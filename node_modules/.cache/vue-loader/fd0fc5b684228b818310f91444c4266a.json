{"remainingRequest":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\src\\views\\table\\bs-table\\paymentRequest\\listPaymentRequestView.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\src\\views\\table\\bs-table\\paymentRequest\\listPaymentRequestView.vue","mtime":1658916280558},{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658911406787},{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1658911406756},{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658911406787},{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1658911433727}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCQ2FyZENvZGUgZnJvbSAnQGNvcmUvY29tcG9uZW50cy9iLWNhcmQtY29kZS9CQ2FyZENvZGUudnVlJwppbXBvcnQgYXhpb3MgZnJvbSAnQGF4aW9zJwppbXBvcnQgdlNlbGVjdCBmcm9tICd2dWUtc2VsZWN0JwppbXBvcnQgewogIEJUYWJsZSwgQkZvcm1DaGVja2JveCwgQkJ1dHRvbiwgQkNhcmQsIEJSb3csIEJDb2wsIEJBdmF0YXIsIEJCYWRnZSwgQkltZywgQlRhYnMsIEJUYWIsIEJDYXJkVGV4dCwgQlBhZ2luYXRpb24sIEJGb3JtR3JvdXAsIEJGb3JtSW5wdXQsIEJGb3JtU2VsZWN0LCBCRHJvcGRvd24sIEJEcm9wZG93bkl0ZW0sIEJJbnB1dEdyb3VwLCBCSW5wdXRHcm91cEFwcGVuZCwgQklucHV0R3JvdXBQcmVwZW5kLCBCRm9ybURhdGVwaWNrZXIsIEJGb3JtRmlsZSxCRm9ybVRleHRhcmVhLEJGb3JtUmFkaW8sQkZvcm0sQkZvcm1DaGVja2JveEdyb3VwLEJGb3JtUmF0aW5nLEJMaXN0R3JvdXBJdGVtICxCTGlzdEdyb3VwLEJQb3BvdmVyLEJTcGlubmVyLAp9IGZyb20gJ2Jvb3RzdHJhcC12dWUnCgoKaW1wb3J0IFJpcHBsZSBmcm9tICd2dWUtcmlwcGxlLWRpcmVjdGl2ZScKaW1wb3J0IEVubGFyZ2VhYmxlSW1hZ2UgZnJvbSAnQGRpcmFjbGVvL3Z1ZS1lbmxhcmdlYWJsZS1pbWFnZSc7CmltcG9ydCBDbGVhdmUgZnJvbSAndnVlLWNsZWF2ZS1jb21wb25lbnQnCmltcG9ydCAnY2xlYXZlLmpzL2Rpc3QvYWRkb25zL2NsZWF2ZS1waG9uZS51cycKaW1wb3J0IHsgVnVlQXV0b3N1Z2dlc3QgfSBmcm9tICd2dWUtYXV0b3N1Z2dlc3QnCgppbXBvcnQgVG9hc3RpZmljYXRpb25Db250ZW50IGZyb20gJ0Bjb3JlL2NvbXBvbmVudHMvdG9hc3RpZmljYXRpb24vVG9hc3RpZmljYXRpb25Db250ZW50LnZ1ZScKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBCQ2FyZENvZGUsCiAgICBCVGFibGUsCiAgICBCQnV0dG9uLAogICAgQkZvcm1DaGVja2JveCwKICAgIEJDYXJkLAogICAgQlJvdywKICAgIEJDb2wsCiAgICBCQmFkZ2UsCiAgICBCQXZhdGFyLAogICAgQkltZywKICAgIEVubGFyZ2VhYmxlSW1hZ2UsCiAgICBCVGFicywKICAgIEJUYWIsCiAgICBCQ2FyZFRleHQsCiAgICBCUGFnaW5hdGlvbiwKICAgIEJGb3JtR3JvdXAsCiAgICBCRm9ybUlucHV0LAogICAgQkZvcm1TZWxlY3QsCiAgICBCRHJvcGRvd24sCiAgICBCRHJvcGRvd25JdGVtLAogICAgQklucHV0R3JvdXAsCiAgICBCSW5wdXRHcm91cEFwcGVuZCwKICAgIEJJbnB1dEdyb3VwUHJlcGVuZCwKICAgIEJGb3JtRGF0ZXBpY2tlciwgCiAgICBCRm9ybUZpbGUsCiAgICBCRm9ybVRleHRhcmVhLAogICAgQkZvcm1SYWRpbywKICAgIEJGb3JtLAogICAgdlNlbGVjdCwKICAgIEJGb3JtQ2hlY2tib3hHcm91cCwKICAgIEJGb3JtUmF0aW5nLAogICAgQkxpc3RHcm91cCwKICAgIEJMaXN0R3JvdXBJdGVtICwKICAgIEJQb3BvdmVyLAogICAgQlNwaW5uZXIsCiAgICBDbGVhdmUsCiAgICBWdWVBdXRvc3VnZ2VzdCwKICB9LAogIGRpcmVjdGl2ZXM6IHsKICAgIFJpcHBsZSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBiYXNlX3VybDogJycsCgogICAgICBvcHRpb25zOiB7CiAgICAgICAgcGVuQ29sb3I6ICIjMDAwIiwKICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJywKICAgICAgICBwaG9uZTogewogICAgICAgICAgcHJlZml4OiAnOTY2NScsCiAgICAgICAgICBibG9ja3M6IFsxMl0sCiAgICAgICAgICB1cHBlcmNhc2U6IHRydWUsCiAgICAgICAgICBub0ltbWVkaWF0ZVByZWZpeDogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgZGF0ZTogewogICAgICAgICAgZGF0ZTogdHJ1ZSwKICAgICAgICAgIGRlbGltaXRlcjogJy0nLAogICAgICAgICAgZGF0ZVBhdHRlcm46IFsnWScsICdtJywgJ2QnXSwKICAgICAgICB9LAogICAgICAgIGFjY291bnRfbnVtYmVyOiB7CiAgICAgICAgICBibG9ja3M6IFsxNV0sCiAgICAgICAgICB1cHBlcmNhc2U6IHRydWUsCiAgICAgICAgfSwKICAgICAgICBpcWFtYV9udW1iZXI6IHsKICAgICAgICAgIGJsb2NrczogWzEwXSwKICAgICAgICAgIHVwcGVyY2FzZTogdHJ1ZSwKICAgICAgICB9LAogICAgICAgIGNyX251bWJlcjogewogICAgICAgICAgYmxvY2tzOiBbMTBdLAogICAgICAgICAgdXBwZXJjYXNlOiB0cnVlLAogICAgICAgIH0sCiAgICAgICAgaWJhbjogewogICAgICAgICAgcHJlZml4OiAnU0EnLAogICAgICAgICAgYmxvY2tzOiBbMjRdLAogICAgICAgICAgdXBwZXJjYXNlOiB0cnVlLAogICAgICAgICAgbm9JbW1lZGlhdGVQcmVmaXg6IHRydWUKICAgICAgICB9LAogICAgICB9LAoKICAgICAgcG9wb3ZlclNob3c6ZmFsc2UsCiAgICAgIGV4cG9ydExpbWl0OicnLAogICAgICBpc0J1c3kgOiB0cnVlLAogICAgICBmaWVsZHM6IFt7IGtleTogJ09wdGlvbnMnLCB0aENsYXNzOiAnY3VzdG9tSGVhZCcgfSx7a2V5OidpZCcsbGFiZWw6J0lkJyxzb3J0YWJsZTogdHJ1ZSx0aENsYXNzOiAnY3VzdG9tSGVhZCd9LCAge2tleTonaW5pdGlhdGVkX2J5JyxsYWJlbDonSW5pdGlhdGVkIEJ5Jyxzb3J0YWJsZTogdHJ1ZSx0aENsYXNzOiAnY3VzdG9tSGVhZCd9LHtrZXk6J3RvdGFsX2Ftb3VudCcsbGFiZWw6J1RvdGFsIEFtb3VudCcsc29ydGFibGU6IHRydWUsdGhDbGFzczogJ2N1c3RvbUhlYWQnfSx7a2V5OidkYXRlJyxsYWJlOidEYXRlJyxzb3J0YWJsZTogdHJ1ZSx0aENsYXNzOiAnY3VzdG9tSGVhZCd9LHtrZXk6J3N0YXR1cycsbGFiZWw6J1N0YXR1cycsc29ydGFibGU6IHRydWUsdGhDbGFzczogJ2N1c3RvbUhlYWQnfSwKICAgICAgLy8ge2tleTonY3JlYXRlZF9ieScsbGFiZWw6J0NyZWF0ZWQgQnknLHNvcnRhYmxlOiB0cnVlLHRoQ2xhc3M6ICdjdXN0b21IZWFkJ30sCiAgICAgIF0sCiAgICAgIGl0ZW1GaWVsZHM6IFsnbmFtZScsJ3F1YW50aXR5J10sCiAgICAgIGl0ZW1zOiBbCiAgICAgIF0sCiAgICAgIGVtcF9kZXRhaWw6IFsKICAgICAgICB7IGFnZTogNDAsIGZpcnN0X25hbWU6ICdEaWNrZXJzb24nLCBsYXN0X25hbWU6ICdNYWNkb25hbGQnIH0KICAgICAgICBdLAogICAgICAvKiBlc2xpbnQtZGlzYWJsZSBnbG9iYWwtcmVxdWlyZSAqLwogICAgICBzdGF0dXM6IFt7CiAgICAgICAgMTogJ0N1cnJlbnQnLCAyOiAnUHJvZmVzc2lvbmFsJywgMzogJ1JlamVjdGVkJywgNDogJ1Jlc2lnbmVkJywgNTogJ0FwcGxpZWQnLAogICAgICB9LAogICAgICB7CiAgICAgICAgMTogJ2xpZ2h0LXByaW1hcnknLCAyOiAnbGlnaHQtc3VjY2VzcycsIDM6ICdsaWdodC1kYW5nZXInLCA0OiAnbGlnaHQtd2FybmluZycsIDU6ICdsaWdodC1pbmZvJywKICAgICAgfV0sCiAgICAKICAgICAgc2VhcmNoVGVybTonJywKICAgICAgcGFnZVNpemU6MTAsCiAgICAgIHBhZ2U6MSwKICAgICAgY291bnQ6MCwKCiAgICAgIGZpbHRlcmVkT3B0aW9uczpbXSwKCiAgICAgIGZvcm1WYWx1ZXM6IHsKCiAgICAgICAgLy8gcmVzb3VyY2VUeXBlOicnLAogICAgICAgIC8vIHJlc291cmNlT3duZXI6JycsCiAgICAgICAgLy8gYWxsb2NhdGlvbkRhdGU6JycsCiAgICAgICAgLy8gbm90ZXM6JycsCgoKICAgICAgICAgICAgICAgIHJlcXVlc3RfdHlwZTonJywKICAgICAgICByZXF1ZXN0X293bmVyOicnLAogICAgICAgIHJlcXVlc3Rfb3duZXJfaWQ6JycsCgogICAgICAgIHBheW1lbnRfdHlwZTonJywKICAgICAgICAvLyBhbW91bnQ6JycsCiAgICAgICAgc3RhdHVzOicnLAogICAgICAgIC8vIGF0dGFjaG1lbnQ6W10sCiAgICAgICAgLy8gYXR0YWNobWVudF9sZW5ndGg6MCwKICAgICAgICAvLyBhdHRhY2htZW50X2ZpbGVfbmFtZTonJywKCiAgICAgICAgLy8gbm90ZXM6JycsCiAgICAgIC8vIGZpbHRlcmVkT3B0aW9uczogW10sCgoKICAgICAgfSwKCiAgICAgIC8vICAgICAgICAgaXRlbXM6IFt7CiAgICAgIC8vICAgcmVxdWVzdF90eXBlOicnLAogICAgICAvLyAgIHJlcXVlc3Rfb3duZXI6JycsCiAgICAgIC8vICAgcmVxdWVzdF9vd25lcl9pZDonJywKCiAgICAgIC8vICAgcGF5bWVudF90eXBlOicnLAogICAgICAvLyAgIGFtb3VudDonJywKICAgICAgLy8gICBzdGF0dXM6JycsCiAgICAgIC8vICAgYXR0YWNobWVudDpbXSwKICAgICAgLy8gICBhdHRhY2htZW50X2xlbmd0aDowLAogICAgICAvLyAgIGF0dGFjaG1lbnRfZmlsZV9uYW1lOicnLAoKICAgICAgLy8gICBub3RlczonJywKICAgICAgLy8gZmlsdGVyZWRPcHRpb25zOiBbXSwKICAgICAgLy8gfV0sCgogICAgUmVxdWVzdFR5cGU6IFsKICAgICAgICB7IHZhbHVlOiAnQWNjb21tb2RhdGlvbicsIHRleHQ6ICdBY2NvbW1vZGF0aW9uJyB9LAogICAgICAgIHsgdmFsdWU6ICdDbGllbnQnLCB0ZXh0OiAnQ2xpZW50JyB9LAogICAgICAgIHsgdmFsdWU6ICdFbXBsb3llZScsIHRleHQ6ICdFbXBsb3llZScgfSwKICAgICAgICB7IHZhbHVlOiAnU3VwcGxpZXInLCB0ZXh0OiAnU3VwcGxpZXInIH0sCiAgICAgICAgeyB2YWx1ZTogJ1ZlbmRvcicsIHRleHQ6ICdWZW5kb3InIH0sCgogICAgICBdLAogICAgICAgICAgICBzdGF0dXNUeXBlOiBbCiAgICAgICAgeyB2YWx1ZTogJ1VucGFpZCcsIHRleHQ6ICdVbnBhaWQnIH0sCiAgICAgICAgLy8geyB2YWx1ZTogJ1BhcnRpYWxseSBQYWlkJywgdGV4dDogJ1BhcnRpYWxseSBQYWlkJyB9LAogICAgICAgIHsgdmFsdWU6ICdQYWlkJywgdGV4dDogJ1BhaWQnIH0sCiAgICAgIF0sCiAgICAgICAgcGF5bWVudFR5cGU6IFsKICAgICAgICB7IHZhbHVlOiAnQ2FzaCcsIHRleHQ6ICdDYXNoJyB9LAogICAgICAgIHsgdmFsdWU6ICdCYW5rIFRyYW5zZmVyJywgdGV4dDogJ0JhbmsgVHJhbnNmZXInIH0sCiAgICAgIF0sCiAgICAgIC8vIHJlc291cmNlVHlwZXM6IFsKICAgICAgLy8gICB7IHZhbHVlOiAnRW1wbG95ZWUnLCB0ZXh0OiAnRW1wbG95ZWUnIH0sCiAgICAgIC8vICAgeyB2YWx1ZTogJ1Byb2plY3QnLCB0ZXh0OiAnUHJvamVjdCcgfSwKICAgICAgLy8gICB7IHZhbHVlOiAnQWNjb21tb2RhdGlvbicsIHRleHQ6ICdBY2NvbW1vZGF0aW9uJyB9LAogICAgICAvLyBdLAogICAgICAKCgogICAgfQogIH0sCgogIG1vdW50ZWQgKCkgewoKICAgICAgdGhpcy5nZXRQeW1lbnRSZXF1ZXN0cygpOwoKICB9LAogICBtZXRob2RzOiB7CgogICAgICBjbG9zZVNlYXJjaCgpIHsKICAgICAgICB0aGlzLiRyZWZzWydzZWFyY2hNb2RlbCddLmhpZGUoKQogICAgICB9LAoKICAgICAgLy8gYXNzaWduT3duZXJGaWVsZChpdGVtKSB7CiAgICAgIC8vICAgaWYgKGl0ZW0pIHsKICAgICAgICAgIAogICAgICAvLyAgICAgdGhpcy5mb3JtVmFsdWVzLnJlc291cmNlT3duZXIgPSBpdGVtLml0ZW0uaWQ7CiAgICAgIC8vICAgfQogICAgICAvLyB9LAogICAgICAgICAgYXNzaWduT3duZXJGaWVsZChldmVudCkgewoKICAgICAgICAgIHRoaXMuZm9ybVZhbHVlcy5yZXF1ZXN0X293bmVyID0gZXZlbnQuaXRlbS5uYW1lOwogICAgICAgICAgdGhpcy5mb3JtVmFsdWVzLnJlcXVlc3Rfb3duZXJfaWQgPSBldmVudC5pdGVtLmlkOwoKICAgICAgICAgIGNvbnNvbGUubG9nKCdpdGVtIHJlcXVlc3Rfb3duZXInLHRoaXMuZm9ybVZhbHVlcy5yZXF1ZXN0X293bmVyKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCdpdGVtIHJlcXVlc3Rfb3duZXJfaWQnLHRoaXMuZm9ybVZhbHVlcy5yZXF1ZXN0X293bmVyX2lkKTsKCgogICAgICAgICAgcmV0dXJuOwogICAgfSwKCgogICAgb25JbnB1dENoYW5nZShpdGVtKSB7CiAgICAgICAgbGV0IHRleHQgPSBpdGVtLnJlcXVlc3Rfb3duZXI7CiAgICAgICAgbGV0IHR5cGUgPSBpdGVtLnJlcXVlc3RfdHlwZTsKICAgICAgaWYgKHRleHQgPT09ICcnIHx8IHRleHQgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybgogICAgICB9CiAgICAgICAgaWYgKHR5cGUgPT09ICcnIHx8IHR5cGUgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKCd0ZXh0Jyx0ZXh0KTsKICAgIC8vICAgcmV0dXJuOwogICAgICAKICAgICAgLy8gaHR0cHM6Ly9hcHAuZ3VsZmxhbWFyLmNvbS9hcGkvZ2V0RW1wbG95ZWVEcm9wZG93bgoKICAgICAgYXhpb3MuZ2V0KCcvZG9jdW1lbnRSZXNvdXJjZU93bmVyJywgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgaWQ6IHRleHQsCiAgICAgICAgICB0eXBlOiBpdGVtLnJlcXVlc3RfdHlwZSwKICAgICAgICB9LAogICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5oYXNPd25Qcm9wZXJ0eSgnc3VjY2VzcycpKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzID09PSB0cnVlKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEuZGF0YSkKICAgICAgICAgICAgdGhpcy5maWx0ZXJlZE9wdGlvbnMgPSBbeyBkYXRhOiByZXNwb25zZS5kYXRhLmRhdGEgfV0KCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEb2N1bWVudCBSZXNvdXJjZSBPd25lcnMgRmV0Y2hlZCcpCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiR0b2FzdCh7CiAgICAgICAgICAgICAgY29tcG9uZW50OiBUb2FzdGlmaWNhdGlvbkNvbnRlbnQsCiAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnLAogICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICB0aXRsZTogJ0Vycm9yJywKICAgICAgICAgICAgICAgIGljb246ICdBbGVydENpcmNsZUljb24nLAogICAgICAgICAgICAgICAgdmFyaWFudDogJ2RhbmdlcicsCiAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kdG9hc3QoewogICAgICAgICAgICBjb21wb25lbnQ6IFRvYXN0aWZpY2F0aW9uQ29udGVudCwKICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnLAogICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgIHRpdGxlOiAnRXJyb3InLAogICAgICAgICAgICAgIGljb246ICdBbGVydENpcmNsZUljb24nLAogICAgICAgICAgICAgIHZhcmlhbnQ6ICdkYW5nZXInLAogICAgICAgICAgICAgIHRleHQ6ICdTb21ldGhpbmcgd2VudCB3cm9uZywgdHJ5IGFnYWluIGxhdGVyJywKICAgICAgICAgICAgfSwKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcikKICAgICAgfSkKICAgIH0sCiAgICByZXNvdXJjZVR5cGVDaGFuZ2UodmFsKXsKCiAgICAgIHRoaXMuZ2V0UmVzb3VyY2VJdGVtcygpCgogICAgfSwKCiAgICBnZXRSZXNvdXJjZUl0ZW1zKCkgewoKICAgICAgICAgIGF4aW9zLmdldCgnL2dldFJlc291cmNlSXRlbXNEcm9wZG93bicsIHsKICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICByZXNvdXJjZVR5cGUgOiB0aGlzLmZvcm1WYWx1ZXMucmVzb3VyY2VUeXBlLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB9KS50aGVuKChyZXNwb25zZSkgPT4gewoKICAgICAgICAgICAgaWYocmVzcG9uc2UuZGF0YS5oYXNPd25Qcm9wZXJ0eSgnc3VjY2VzcycpKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgaWYocmVzcG9uc2UuZGF0YS5zdWNjZXNzID09PSB0cnVlKQogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIC8qY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS5kYXRhKTsqLwogICAgICAgICAgICAgICAgdGhpcy5yZXNvdXJjZUl0ZW1zID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZXNvdXJjZSBJdGVtcyBGZXRjaGVkJyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiBUb2FzdGlmaWNhdGlvbkNvbnRlbnQsCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnLAogICAgICAgICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogYEVycm9yYCwKICAgICAgICAgICAgICAgICAgICAgIGljb246ICdBbGVydENpcmNsZUljb24nLAogICAgICAgICAgICAgICAgICAgICAgdmFyaWFudDogJ2RhbmdlcicsCiAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBgU29tZXRoaW5nIHdlbnQgd3JvbmcsIHRyeSBhZ2FpbiBsYXRlcmAsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgdGhpcy4kdG9hc3QoewogICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogVG9hc3RpZmljYXRpb25Db250ZW50LAogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLXJpZ2h0JywKICAgICAgICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGBFcnJvcmAsCiAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnQWxlcnRDaXJjbGVJY29uJywKICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ6ICdkYW5nZXInLAogICAgICAgICAgICAgICAgICAgICAgdGV4dDogYFNvbWV0aGluZyB3ZW50IHdyb25nLCB0cnkgYWdhaW4gbGF0ZXJgLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIAogICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgfSk7CgoKICAgIH0sCgogICAgICByZXNldFNlYXJjaCgpIHsKICAgICAgICBPYmplY3QuZW50cmllcyh0aGlzLmZvcm1WYWx1ZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4gewogICAgICAgIAogICAgICAgICAgICBpZiAoa2V5ID09ICdza2lsbHMnKSB7CgogICAgICAgICAgICAgIHRoaXMuZm9ybVZhbHVlc1trZXldID0gW107CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZihrZXkgPT0gJ2xhbmdfZW5nJyB8fGtleSA9PSAnbGFuZ19hcicgfHxrZXkgPT0gJ2xhbmdfaGluZCcgfHxrZXkgPT0gJ2FwcGVhcmFuY2VfcHJlc2VudGFibGUnICl7CgoKICAgICAgICAgICAgICAgIHRoaXMuZm9ybVZhbHVlc1trZXldID0gbnVsbDsKCgogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuZm9ybVZhbHVlc1trZXldID0gJyc7CiAgICAgICAgICAgIH0KICAgICAgICAgIAogICAgICAgIH0pOwoKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmZvcm1WYWx1ZXMpOwogICAgICB9LAoKICAgICAgb25DbG9zZSgpIHsKICAgICAgICB0aGlzLnBvcG92ZXJTaG93ID0gZmFsc2UKICAgICAgfSwKCiAgICAgIHN0YXR1c1ZhcmlhbnQob3duZXJUeXBlKXsKCiAgICAgICAgaWYgKG93bmVyVHlwZSA9PSAnVW5wYWlkJykgCiAgICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiAnZGFuZ2VyJzsKICAgICAgICAgIH0gCiAgICAgICAgZWxzZSBpZihvd25lclR5cGUgPT0gJ1BhaWQnKSAKICAgICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuICdzdWNjZXNzJzsKICAgICAgICAgIH0KICAgICAgICBlbHNlIGlmKG93bmVyVHlwZSA9PSAnUGFydGlhbGx5IFBhaWQnKSAKICAgICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuICd3YXJuaW5nJzsKICAgICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiAncHJpbWFyeSc7CiAgICAgICAgICB9CiAgICAgIH0sCgogICAgICAgICAgICBQYXltZW50VHlwZVZhcmlhbnQoUGF5bWVudFR5cGUpewoKICAgICAgICBpZiAoUGF5bWVudFR5cGUgPT0gJ0Nhc2gnKSAKICAgICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuICdwcmltYXJ5JzsKICAgICAgICAgIH0gCiAgICAgICAgZWxzZSBpZihQYXltZW50VHlwZSA9PSAnQmFuayBUcmFuc2ZlcicpIAogICAgICAgICAgewogICAgICAgICAgICByZXR1cm4gJ3N1Y2Nlc3MnOwogICAgICAgICAgfSBlbHNlCiAgICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiAncHJpbWFyeSc7CiAgICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJlcXVlc3RfdHlwZV92YXJpYW50KG93bmVyVHlwZSl7CgogICAgICAgIGlmIChvd25lclR5cGUgPT0gJ0FjY29tbW9kYXRpb24nKSAKICAgICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuICd3YXJuaW5nJzsKICAgICAgICAgIH0gCiAgICAgICAgZWxzZSBpZihvd25lclR5cGUgPT0gJ0NsaWVudCcpIAogICAgICAgICAgewogICAgICAgICAgICByZXR1cm4gJ3N1Y2Nlc3MnOwogICAgICAgICAgfQogICAgICAgIGVsc2UgaWYob3duZXJUeXBlID09ICdFbXBsb3llZScpIAogICAgICAgICAgewogICAgICAgICAgICByZXR1cm4gJ3ByaW1hcnknOwogICAgICAgICAgfQogICAgICAgICAgIGVsc2UgaWYob3duZXJUeXBlID09ICdTdXBwbGllcicpIAogICAgICAgICAgewogICAgICAgICAgICByZXR1cm4gJ2luZm8nOwogICAgICAgICAgfQogICAgICAgICAgZWxzZSBpZihvd25lclR5cGUgPT0gJ1ZlbmRvcicpIAogICAgICAgICAgewogICAgICAgICAgICByZXR1cm4gJ3NlY29uZGFyeSc7CiAgICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgICAgewogICAgICAgICAgICByZXR1cm4gJ3ByaW1hcnknOwogICAgICAgICAgfQogICAgICB9LAoKICAgICAgaXNQZGYodXJsKXsKICAgICAgIHJldHVybiB0cnVlIDsKCiAgICAgICAgaWYodXJsLnN1YnN0cih1cmwubGFzdEluZGV4T2YoJy4nKSsxKSA9PSAncGRmJykKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgfQogICAgICAgIGVsc2UKICAgICAgICB7CiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9CiAgICAgIH0sCgogICAgICBkZWxldGVQYXltZW50KGlkKSB7CiAgICAgIGNvbnNvbGUubG9nKGlkKTsKICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmU/JywKICAgICAgICB0ZXh0OiAiWW91IHdvbid0IGJlIGFibGUgdG8gcmV2ZXJ0IHRoaXMhIiwKICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ1llcywgZGVsZXRlIGl0IScsCiAgICAgICAgY3VzdG9tQ2xhc3M6IHsKICAgICAgICAgIGNvbmZpcm1CdXR0b246ICdidG4gYnRuLWRhbmdlcicsCiAgICAgICAgICBjYW5jZWxCdXR0b246ICdidG4gYnRuLW91dGxpbmUtZGFuZ2VyIG1sLTEnLAogICAgICAgIH0sCiAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICB9KS50aGVuKHJlc3VsdCA9PiB7CiAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgICBheGlvcy5wb3N0KCcvZGVsZXRlUGF5bWVudCcsIHsKICAgICAgICAgICAgaWQ6IGlkLAogICAgICAgICAgfQogICAgICAgICAgKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuaGFzT3duUHJvcGVydHkoJ3N1Y2Nlc3MnKSkgewogICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgIHRoaXMuZ2V0UHltZW50UmVxdWVzdHMoKQoKICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0KHsKICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiBUb2FzdGlmaWNhdGlvbkNvbnRlbnQsCiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLXJpZ2h0JywKICAgICAgICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1BheW1lbnQgRGVsZXRlZCBTdWNjZXNzZnVsbHknLAogICAgICAgICAgICAgICAgICAgIGljb246ICdFZGl0SWNvbicsCiAgICAgICAgICAgICAgICAgICAgdmFyaWFudDogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQYXltZW50IERlbGV0ZWQgU3VjY2Vzc2Z1bGx5JykKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy4kdG9hc3QoewogICAgICAgICAgICAgICAgICBjb21wb25lbnQ6IFRvYXN0aWZpY2F0aW9uQ29udGVudCwKICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnLAogICAgICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRXJyb3InLAogICAgICAgICAgICAgICAgICAgIGljb246ICdBbGVydENpcmNsZUljb24nLAogICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ6ICdkYW5nZXInLAogICAgICAgICAgICAgICAgICAgIHRleHQ6ICdTb21ldGhpbmcgd2VudCB3cm9uZywgdHJ5IGFnYWluIGxhdGVyJywKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuJHRvYXN0KHsKICAgICAgICAgICAgICAgIGNvbXBvbmVudDogVG9hc3RpZmljYXRpb25Db250ZW50LAogICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnLAogICAgICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgICAgdGl0bGU6ICdFcnJvcicsCiAgICAgICAgICAgICAgICAgIGljb246ICdBbGVydENpcmNsZUljb24nLAogICAgICAgICAgICAgICAgICB2YXJpYW50OiAnZGFuZ2VyJywKICAgICAgICAgICAgICAgICAgdGV4dDogJ1NvbWV0aGluZyB3ZW50IHdyb25nLCB0cnkgYWdhaW4gbGF0ZXInLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICAgIGdldFB5bWVudFJlcXVlc3RzKCl7CgogICAgICAgIHRoaXMuaXNCdXN5PSB0cnVlOwoKICAgICAgICBheGlvcy5nZXQoJy9nZXRBbGxQeW1lbnRSZXF1ZXN0cycsIHsKICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgc2VhcmNoVGVybTogdGhpcy5zZWFyY2hUZXJtLAogICAgICAgICAgICAgIHBhZ2Vfbm86dGhpcy5wYWdlLAogICAgICAgICAgICAgIGFkdmFuY2VTZWFyY2g6dGhpcy5mb3JtVmFsdWVzLAogICAgICAgICAgICAgIAogICAgICAgICAgICB9LAogICAgICAgICAgfSkKCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CgogICAgICAgICAgICBjb25zb2xlLmxvZygncmVzcG9uc2UnLCByZXNwb25zZS5kYXRhLmRhdGEpOwogICAgICAgICAgICB0aGlzLml0ZW1zID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgdGhpcy5iYXNlX3VybCA9IHJlc3BvbnNlLmRhdGEuYmFzZV91cmw7CiAgICAgICAgICAgIHRoaXMuY291bnQgPSByZXNwb25zZS5kYXRhLnRvdGFsUm93czsKICAgICAgICAgICAgdGhpcy5pc0J1c3k9IGZhbHNlOwoKICAgICAgICAgIC8vIFRPRE8KICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9LAoKICAgICAgaGFuZGxlUGFnZUNoYW5nZSh2YWx1ZSkgewogICAgICAgIHRoaXMucGFnZSA9IHZhbHVlOwogICAgICAgIHRoaXMuaXNCdXN5PSB0cnVlOwogICAgICAgIHRoaXMuZ2V0UHltZW50UmVxdWVzdHMoKTsKICAgICAgfSwKCiAgICAgIHNlYXJjaFRpbWVPdXQoKSB7CiAgICAgICAgbGV0IHRpbWVvdXQgPSBudWxsOwogICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTsKICAgICAgICAvLyBNYWtlIGEgbmV3IHRpbWVvdXQgc2V0IHRvIGdvIG9mZiBpbiA4MDBtcwogICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHRoaXMucGFnZSA9IDE7CiAgICAgICAgICB0aGlzLmdldFB5bWVudFJlcXVlc3RzKCk7CiAgICAgICAgICAKICAgICAgICB9LCA4MDApOwogICAgICB9LAogICAgICAgIFR5cGVfQ2hhbmdlKGl0ZW0pIHsKICAgICAgICAvLyBjb25zb2xlLmxvZygncmVjaXBpZW50X3R5cGUnLHRoaXMuZm9ybVZhbHVlcy5yZWNpcGllbnRfdHlwZSk7CiAgICAgICAgLy8gdGhpcy5mb3JtVmFsdWVzLnJlY2lwaWVudCA9IG51bGw7CiAgICAgICAgLy8gY29uc29sZS5sb2coJ3JlY2lwaWVudCcsdGhpcy5mb3JtVmFsdWVzLnJlY2lwaWVudCk7CgogICAgICAgIC8vIHRoaXMucmVjaXBpZW50cyA9IG51bGw7CiAgICAgICAgdGhpcy5jbGVhclJlc291cmNlT3duZXIoaXRlbSk7CiAgICAgICAgLy8gaWYodHlwZSA9PSAiQWNjb21tb2RhdGlvbiIpewogICAgICAgIC8vICAgICB0aGlzLnJlY2lwaWVudHMgPSB0aGlzLnJlY2lwaWVudHNfYWNjb21tb2RhdGlvbjsKICAgICAgICAvLyAgICAgcmV0dXJuIDsKCiAgICAgICAgLy8gfQogICAgICAgIC8vIGlmKHR5cGUgPT0gIkNsaWVudCIpewogICAgICAgIC8vICAgICB0aGlzLnJlY2lwaWVudHMgPSB0aGlzLnJlY2lwaWVudHNfY2xpZW50OwogICAgICAgIC8vICAgICByZXR1cm4gOwoKICAgICAgICAvLyB9CiAgICAgICAgLy8gaWYodHlwZSA9PSAiRW1wbG95ZWUiKXsKICAgICAgICAvLyAgICAgdGhpcy5yZWNpcGllbnRzID0gdGhpcy5yZWNpcGllbnRzX2VtcGxveWVlOwogICAgICAgIC8vICAgICByZXR1cm4gOwoKICAgICAgICAvLyB9CiAgICAgICAgLy8gaWYodHlwZSA9PSAiU3VwcGxpZXIiKXsKICAgICAgICAvLyAgICAgdGhpcy5yZWNpcGllbnRzID0gdGhpcy5yZWNpcGllbnRzX3N1cHBsaWVyOwogICAgICAgIC8vICAgICByZXR1cm4gOwoKICAgICAgICAvLyB9CiAgICAgICAgLy8gaWYodHlwZSA9PSAiVmVuZG9yIil7CiAgICAgICAgLy8gICAgIHRoaXMucmVjaXBpZW50cyA9IHRoaXMucmVjaXBpZW50c192ZW5kb3I7CiAgICAgICAgLy8gICAgIHJldHVybiA7CgogICAgICAgIC8vIH0KICAgICAgICAvLyBjb25zb2xlLmxvZygndHlwZScsdHlwZSk7CiAgICAgICAgLy8gdGhpcy5yZWNpcGllbnRzID0gdGhpcy5yZWNpcGllbnRzX2FjY29tbW9kYXRpb247CiAgICAgICAgLy8gcmV0dXJuIDsKCiAgICB9LAogICAgICBjbGVhclJlc291cmNlT3duZXIoaXRlbSl7CiAgICAgIGNvbnNvbGUubG9nKCdjbGVhciBpdGVtICcsaXRlbSk7CiAgICAgIHRoaXMuZm9ybVZhbHVlcy5yZXF1ZXN0X293bmVyID0gJyc7CiAgICAgIHRoaXMuZm9ybVZhbHVlcy5yZXF1ZXN0X293bmVyX2lkID0gJyc7CgogICAgICB0aGlzLmZpbHRlcmVkT3B0aW9ucyA9IFtdOyAgIAogICAgICBjb25zb2xlLmxvZygnY2xlYXIgaXRlbSBuZXcnLGl0ZW0pOwoKICAgIC8vICAgICB0aGlzLmZvcm1WYWx1ZXMucmVzb3VyY2Vfb3duZXJfaWQgPSAnJzsKICAgIC8vICAgICB0aGlzLmZvcm1WYWx1ZXMucmVzb3VyY2Vfb3duZXJfbmFtZSA9ICcnOwogICAgLy8gICB0aGlzLmZpbHRlcmVkT3B0aW9ucyA9IFtdOwoKICAgICAgLy8gY29uc29sZS5sb2coJ2ZpbHRlcmVkT3B0aW9ucycsdGhpcy5maWx0ZXJlZE9wdGlvbnMpOwogICAgICAvLyBjb25zb2xlLmxvZygndGhpcy5mb3JtVmFsdWVzLnJlc291cmNlX293bmVyX2lkJyx0aGlzLmZvcm1WYWx1ZXMucmVzb3VyY2Vfb3duZXJfaWQpOwogICAgICAvLyBjb25zb2xlLmxvZygndGhpcy5mb3JtVmFsdWVzLnJlc291cmNlX293bmVyX25hbWUnLHRoaXMuZm9ybVZhbHVlcy5yZXNvdXJjZV9vd25lcl9uYW1lKTsKCgogICAgICAKICAgIH0sCiAgICAvLyAgICAgdG90YWxBbW91bnQoKXsKICAgIC8vICAgICB2YXIgVG90YWxBbW91bnQgPSAwOwoKICAgIC8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZm9ybVZhbHVlcy5pdGVtcy5sZW5ndGg7aSsrKXsKICAgIC8vICAgICAgICAgbGV0IGFtb3VudCA9IHRoaXMuZm9ybVZhbHVlcy5pdGVtc1tpXVsnYW1vdW50J107CiAgICAvLyAgICAgICAgICAgICBUb3RhbEFtb3VudCA9IE51bWJlcihUb3RhbEFtb3VudCkgKyBOdW1iZXIoYW1vdW50KTsgICAgICAgICAgICAKICAgIC8vICAgICB9CiAgICAvLyAgICAgICAgIHRoaXMuZm9ybVZhbHVlcy50b3RhbF9hbW91bnQgPSBOdW1iZXIoVG90YWxBbW91bnQpOwoKCiAgICAvLyB9LAoKCiAgIH0KfTsK"},{"version":3,"sources":["listPaymentRequestView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAigBA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;AACA","file":"listPaymentRequestView.vue","sourceRoot":"src/views/table/bs-table/paymentRequest","sourcesContent":["<template>\n  \n    <div>\n\n      <!-- search input -->\n      <div class=\"custom-search d-flex justify-content-between\">\n        <b-form-group>\n          <div class=\"d-flex align-items-center\">\n            <!-- <label class=\"mr-1\">Search</label> -->\n\n            <b-input-group>\n              <b-input-group-prepend>\n                <b-button variant=\"outline-primary\" @click=\"page=1, getPymentRequests()\">\n                  <feather-icon icon=\"SearchIcon\" />\n                </b-button>\n              </b-input-group-prepend>\n              <b-form-input\n                v-model=\"searchTerm\"\n                placeholder=\"Search\"\n                type=\"text\"\n                class=\" d-inline-block\"\n                @keyup=\"searchTimeOut()\"\n              />\n\n              <b-input-group-append>\n                <b-button \n                v-ripple.400=\"'rgba(113, 102, 240, 0.15)'\"\n                v-b-modal.modal-advancesearch\n                variant=\"outline-primary\">\n                  Advance search\n                </b-button>\n              </b-input-group-append>\n              \n            </b-input-group>\n\n\n          </div>\n        </b-form-group>\n\n        <b-form-group v-if=\"$ability.can('add/copy', 'payment')\">\n          <div class=\"d-flex align-items-center\">\n\n            <b-input-group>\n\n\n              <b-input-group-prepend>\n\n                <b-button\n                  v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n                  variant=\"primary\"\n\n                  :to=\"{ name: 'create-new-payment-request'}\"\n                  \n                  title=\"Payment Request\"\n\n                >\n                ADD+\n                </b-button>\n              </b-input-group-prepend>\n\n            </b-input-group>\n\n          </div>\n        </b-form-group>\n      </div>\n\n\n      <!-- Advance Search Model -->\n      <b-modal\n        hide-footer\n        id=\"modal-advancesearch\"\n        title=\"Advance Search\"\n        ref='searchModel'\n        size=\"lg\"\n        cancel-variant=\"outline-secondary\"\n      >\n        <b-form @submit.prevent>\n          <b-row>\n\n                <b-col md=\"6\">\n                  <b-form-group\n                    label=\"Request Type\"\n                    label-for=\"request_type\"\n\n                  >\n\n                    <v-select\n                      id=\"request_type\"\n\n                      v-model=\"formValues.request_type\"\n                      :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\n                      :options=\"RequestType\"\n\n                      label=\"text\"\n                      :reduce=\"text => text.value\"\n                       @input=\"Type_Change(formValues.request_type)\"\n                    />\n\n                  </b-form-group>\n                </b-col>\n\n                <!-- <b-col md=\"6\">\n                  <b-form-group\n                    label=\"Request Owner\"\n                    label-for=\"request_owner\"\n                  >\n                    <b-form-input\n                      id=\"request_owner\"\n                      v-model=\"item.request_owner\"\n                      type=\"text\"\n                    />\n                  </b-form-group>\n                </b-col> -->\n                            <b-col md=\"6\">\n\n        <b-form-group\n          label=\"Resource Owner\"\n                    label-for=\"autosuggest__input\"\n\n        >\n          <vue-autosuggest\n            v-model=\"formValues.request_owner\"\n\n            :suggestions=\"filteredOptions\"\n\n            :limit=\"10\"\n            :input-props=\"{id:'autosuggest__input',class:'form-control', placeholder:'Search with name or ID',}\"\n            @input=\"onInputChange(formValues)\"\n            @selected=\"assignOwnerField($event)\"\n          >\n            <template slot-scope=\"{suggestion}\">\n              <span class=\"my-suggestion-item\">{{ suggestion.item.name }}, {{ suggestion.item.id }} </span>\n            </template>\n          </vue-autosuggest>\n        </b-form-group>\n      </b-col>\n\n                <b-col md=\"6\">\n                  <b-form-group\n                    label=\"Payemnt Type\"\n                    label-for=\"payment_type\"\n\n                  >\n\n                    <v-select\n                      id=\"payment_type\"\n                      v-model=\"formValues.payment_type\"\n                      :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\n                      :options=\"paymentType\"\n\n                      label=\"text\"\n                      :reduce=\"text => text.value\"\n                    />\n\n                  </b-form-group>\n                </b-col>\n\n                      <b-col md=\"6\">\n                        <b-form-group\n                        label=\"Status\"\n                        label-for=\"status\"\n\n                        >                      \n                        <v-select\n\n                            id=\"status\"\n\n                            v-model=\"formValues.status\"\n                            :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\n                            :options=\"statusType\"\n                           \n\n                            label=\"text\"\n                            :reduce=\"text => text.value\"\n                        />\n                        </b-form-group>\n                    </b-col>\n\n <!-- @input=\"ChangePaymentStatus()\" -->\n              \n\n              <b-col md=\"12\">\n\n                <b-button\n                  v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n                  type=\"submit\"\n                  variant=\"primary\"\n                  class=\"mr-1\"\n                  @click=\"page=1,searchTerm='',closeSearch(), getPymentRequests()\"\n                >\n\n                  <span  >GO</span>\n                </b-button>\n\n                <b-button\n                  v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n                  type=\"submit\"\n                  variant=\"outline-primary\"\n                  class=\"mr-1\"\n                  @click=\"resetSearch\"\n                >\n\n                  <span  >Reset</span>\n                </b-button>\n\n                <b-button\n                  v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n                  type=\"submit\"\n                  variant=\"outline-secondary\"\n                  class=\"mr-1\"\n                  @click=\"closeSearch\"\n                >\n\n                  <span  >Cancel</span>\n                </b-button>\n\n                \n              </b-col>\n          \n           </b-row>\n        </b-form>\n      </b-modal>\n\n      \n\n      <b-table\n        :items=\"items\"\n        :fields=\"fields\"\n        striped\n        responsive\n        class=\"mb-0\"\n        :busy=\"isBusy\"\n      >\n        <template #cell(Options)=\"row\">\n        \n        <div>\n        <!-- As `row.showDetails` is one-way, we call the toggleDetails function on @change -->\n        <b-form-group>\n          <div class=\"d-flex align-items-center w-fit-content\">\n            <b-input-group>\n              <b-input-group-prepend>\n                <b-button\n                  size=\"sm\"\n                  v-ripple.400=\"'rgba(113, 102, 240, 0.15)'\"\n                  variant=\"outline-primary\"\n                  v-bind:class=\"row.detailsShowing ? 'active' : ''\"\n                  @click=\"row.toggleDetails\"\n                >\n                  <feather-icon\n                    icon=\"ChevronUpIcon\"\n                    v-if=\"row.detailsShowing\"\n                  />\n\n                  <feather-icon icon=\"ChevronDownIcon\" v-else />\n                </b-button>\n              </b-input-group-prepend>\n\n              <b-input-group-append v-if=\"$ability.can('edit', 'payment')\">\n                <b-button\n                  size=\"sm\"\n                  :to=\"{name: 'edit_payment_request', params: { id: row.item.id } }\"\n                  v-ripple.400=\"'rgba(40, 199, 111, 0.15)'\"\n                  variant=\"outline-primary text-success\"\n                >\n                  <feather-icon icon=\"EditIcon\" />\n                </b-button>\n              </b-input-group-append>\n              <b-input-group-append\n                v-if=\"$ability.can('delete', 'payment')\"\n              >\n                <b-button\n                  size=\"sm\"\n                  v-ripple.400=\"'rgba(40, 199, 111, 0.15)'\"\n                  variant=\"outline-primary text-danger\"\n                  @click=\"deletePayment(row.item.id)\"\n                >\n                  <feather-icon icon=\"Trash2Icon\" />\n                </b-button>\n              </b-input-group-append>\n\n              <b-input-group-append>\n                <b-button\n                  size=\"sm\"\n                  v-ripple.400=\"'rgba(40, 199, 111, 0.15)'\"\n                  :href=\"'/print_payments/'+ row.item.id\"\n                  target=\"_blank\"\n                  variant=\"outline-primary\"\n                >\n                  <feather-icon icon=\"PrinterIcon\" />\n                </b-button>\n                \n              </b-input-group-append>\n            </b-input-group>\n          </div>\n        </b-form-group>  \n        </div> \n        </template>\n\n        <!-- full detail on click -->\n\n\n\n\n\n\n\n        \n\n        <!-- <template #cell(iqama)=\"data\">\n          <b-avatar :src=\"data.value\" />\n        </template> -->\n\n        <template #cell(status)=\"data\">\n          <b-badge\n            pill\n            :variant=\"statusVariant(data.value)\"\n          >\n            {{ data.value}}\n          </b-badge>\n        </template>\n\n\n\n\n        <!-- full detail on click -->\n\n\n\n\n      <template #row-details=\"row\">\n        <b-card no-body>\n          <b-row >\n            <b-col cols=\"12\" class=\"text-center p-0 m-0\"><label class=\"h4 p-0 py-1\">Payment List</label></b-col>\n            <b-col cols=\"12\">\n              <b-tabs\n                pills\n                card\n                horizontal\n              >\n                <b-tab :title=\"item.request_owner\" v-for=\"item in row.item.payments\" :key=\"item.id\" :title-link-class=\"'mx-1 border border-primary tabs_margin_calss'\">\n                  <b-card-text>\n                    <b-row class=\"border-bottom \">\n                      <b-col cols=\"2\">\n                        <strong>ID</strong>\n                      </b-col>\n                      <b-col cols=\"10\">\n                        {{ item.id }}\n                      </b-col>\n                    </b-row>\n                    <b-row class=\"border-bottom \">\n                      <b-col cols=\"2\">\n                        <strong>Payment Request ID</strong>\n                      </b-col>\n                      <b-col cols=\"10\">\n                        {{ item.request_payment_id }}\n                      </b-col>\n                    </b-row>\n                    <b-row class=\"border-bottom \">\n                      <b-col cols=\"2\">\n                        <strong>Request Type</strong>\n                      </b-col>\n                      <b-col cols=\"10\">\n                        <b-badge\n                          pill\n                          :variant=\"request_type_variant(item.request_type)\"\n                        >\n                        {{ item.request_type }}\n                        </b-badge>\n                      </b-col>\n                    </b-row>\n                    <b-row class=\"border-bottom \">\n                      <b-col cols=\"2\">\n                        <strong>Request Owner</strong>\n                      </b-col>\n                      <b-col cols=\"10\">\n                        {{ item.request_owner }}\n                      </b-col>\n                    </b-row>\n                    <b-row class=\"border-bottom \">\n                      <b-col cols=\"2\">\n                        <strong>Request Owner Id</strong>\n                      </b-col>\n                      <b-col cols=\"10\">\n                        {{ item.request_owner_id }}\n                      </b-col>\n                    </b-row>\n                    <b-row class=\"border-bottom \">\n                      <b-col cols=\"2\">\n                        <strong>Payment Type</strong>\n                      </b-col>\n                      <b-col cols=\"10\">\n                         <b-badge\n                          pill\n                          :variant=\"PaymentTypeVariant(item.payment_type)\"\n                        >\n                        {{ item.payment_type }}\n                        </b-badge>\n                      </b-col>\n                    </b-row>\n                    <b-row class=\"border-bottom \">\n                      <b-col cols=\"2\">\n                        <strong>Amount</strong>\n                      </b-col>\n                      <b-col cols=\"10\">\n                        {{ item.amount }}\n                      </b-col>\n                    </b-row>\n                    <b-row class=\"border-bottom \">\n                      <b-col cols=\"2\">\n                        <strong>Status</strong>\n                      </b-col>\n                      <b-col cols=\"10\">\n                        \n                        <b-badge\n                          pill\n                          :variant=\"statusVariant(item.status)\"\n                        >\n                          {{ item.status}}\n                        </b-badge>\n                      </b-col>\n                    </b-row>\n                    <b-row class=\"border-bottom \" v-for=\"attach in item.attachment\" :key=\"attach\">\n                      <b-col cols=\"2\">\n                        <strong>Attachment</strong>\n                      </b-col>\n                      <b-col cols=\"10\">\n                        \n                        <a\n                          class=\"btn btn-primary\"\n                          :href=\"base_url+'/'+attach\"\n                          target=\"_blank\"\n                        >View file</a>\n                      </b-col>\n                    </b-row>\n                    <b-row class=\"border-bottom \">\n                      <b-col cols=\"2\">\n                        <strong>Notes</strong>\n                      </b-col>\n                      <b-col cols=\"10\">\n                        {{ item.notes }}\n                      </b-col>\n                    </b-row>\n                    <b-row class=\"border-bottom \">\n                      \n                      <b-col cols=\"12\" class=\"text-right\">\n                       <strong>Created By : </strong> {{ item.created_by }}\n                      </b-col>\n                    </b-row>\n                    <b-row class=\"border-bottom \" v-if=\"item.updated_by\">\n                      \n                      <b-col cols=\"12\" class=\"text-right\">\n                        <strong>Updated By : </strong> {{ item.updated_by }}\n                      </b-col>\n                    </b-row>\n\n\n\n\n\n                    \n                  </b-card-text>\n                </b-tab>\n\n\n\n              </b-tabs>\n            </b-col>\n          </b-row>\n\n          <!-- <b-button\n              size=\"sm\"\n              variant=\"outline-secondary\"\n              @click=\"row.toggleDetails\"\n            >\n              Hide Details\n            </b-button> -->\n        </b-card>\n      </template>\n\n\n\n\n\n       <template #table-busy>\n        <div class=\"text-center text-primary my-2\">\n          <b-spinner class=\"align-middle\"></b-spinner>\n          <strong>Loading...</strong>\n        </div>\n      </template>\n\n        <!-- <template #cell(status)=\"data\">\n          <b-badge :variant=\"status[1][data.value]\">\n            {{ status[0][data.value] }}\n          </b-badge>\n        </template> -->\n      </b-table>\n\n      <div class=\"d-flex justify-content-end\">\n        <b-pagination\n          v-model=\"page\"\n          :total-rows=\"count\"\n          :per-page=\"pageSize\"\n          pills\n          @change=\"handlePageChange\"\n        ></b-pagination>\n      </div>\n    </div>\n\n    \n \n</template>\n\n<script>\nimport BCardCode from '@core/components/b-card-code/BCardCode.vue'\nimport axios from '@axios'\nimport vSelect from 'vue-select'\nimport {\n  BTable, BFormCheckbox, BButton, BCard, BRow, BCol, BAvatar, BBadge, BImg, BTabs, BTab, BCardText, BPagination, BFormGroup, BFormInput, BFormSelect, BDropdown, BDropdownItem, BInputGroup, BInputGroupAppend, BInputGroupPrepend, BFormDatepicker, BFormFile,BFormTextarea,BFormRadio,BForm,BFormCheckboxGroup,BFormRating,BListGroupItem ,BListGroup,BPopover,BSpinner,\n} from 'bootstrap-vue'\n\n\nimport Ripple from 'vue-ripple-directive'\nimport EnlargeableImage from '@diracleo/vue-enlargeable-image';\nimport Cleave from 'vue-cleave-component'\nimport 'cleave.js/dist/addons/cleave-phone.us'\nimport { VueAutosuggest } from 'vue-autosuggest'\n\nimport ToastificationContent from '@core/components/toastification/ToastificationContent.vue'\n\nexport default {\n  components: {\n    BCardCode,\n    BTable,\n    BButton,\n    BFormCheckbox,\n    BCard,\n    BRow,\n    BCol,\n    BBadge,\n    BAvatar,\n    BImg,\n    EnlargeableImage,\n    BTabs,\n    BTab,\n    BCardText,\n    BPagination,\n    BFormGroup,\n    BFormInput,\n    BFormSelect,\n    BDropdown,\n    BDropdownItem,\n    BInputGroup,\n    BInputGroupAppend,\n    BInputGroupPrepend,\n    BFormDatepicker, \n    BFormFile,\n    BFormTextarea,\n    BFormRadio,\n    BForm,\n    vSelect,\n    BFormCheckboxGroup,\n    BFormRating,\n    BListGroup,\n    BListGroupItem ,\n    BPopover,\n    BSpinner,\n    Cleave,\n    VueAutosuggest,\n  },\n  directives: {\n    Ripple,\n  },\n  data() {\n    return {\n      base_url: '',\n\n      options: {\n        penColor: \"#000\",\n        backgroundColor: '#fff',\n        phone: {\n          prefix: '9665',\n          blocks: [12],\n          uppercase: true,\n          noImmediatePrefix: true\n        },\n        date: {\n          date: true,\n          delimiter: '-',\n          datePattern: ['Y', 'm', 'd'],\n        },\n        account_number: {\n          blocks: [15],\n          uppercase: true,\n        },\n        iqama_number: {\n          blocks: [10],\n          uppercase: true,\n        },\n        cr_number: {\n          blocks: [10],\n          uppercase: true,\n        },\n        iban: {\n          prefix: 'SA',\n          blocks: [24],\n          uppercase: true,\n          noImmediatePrefix: true\n        },\n      },\n\n      popoverShow:false,\n      exportLimit:'',\n      isBusy : true,\n      fields: [{ key: 'Options', thClass: 'customHead' },{key:'id',label:'Id',sortable: true,thClass: 'customHead'},  {key:'initiated_by',label:'Initiated By',sortable: true,thClass: 'customHead'},{key:'total_amount',label:'Total Amount',sortable: true,thClass: 'customHead'},{key:'date',labe:'Date',sortable: true,thClass: 'customHead'},{key:'status',label:'Status',sortable: true,thClass: 'customHead'},\n      // {key:'created_by',label:'Created By',sortable: true,thClass: 'customHead'},\n      ],\n      itemFields: ['name','quantity'],\n      items: [\n      ],\n      emp_detail: [\n        { age: 40, first_name: 'Dickerson', last_name: 'Macdonald' }\n        ],\n      /* eslint-disable global-require */\n      status: [{\n        1: 'Current', 2: 'Professional', 3: 'Rejected', 4: 'Resigned', 5: 'Applied',\n      },\n      {\n        1: 'light-primary', 2: 'light-success', 3: 'light-danger', 4: 'light-warning', 5: 'light-info',\n      }],\n    \n      searchTerm:'',\n      pageSize:10,\n      page:1,\n      count:0,\n\n      filteredOptions:[],\n\n      formValues: {\n\n        // resourceType:'',\n        // resourceOwner:'',\n        // allocationDate:'',\n        // notes:'',\n\n\n                request_type:'',\n        request_owner:'',\n        request_owner_id:'',\n\n        payment_type:'',\n        // amount:'',\n        status:'',\n        // attachment:[],\n        // attachment_length:0,\n        // attachment_file_name:'',\n\n        // notes:'',\n      // filteredOptions: [],\n\n\n      },\n\n      //         items: [{\n      //   request_type:'',\n      //   request_owner:'',\n      //   request_owner_id:'',\n\n      //   payment_type:'',\n      //   amount:'',\n      //   status:'',\n      //   attachment:[],\n      //   attachment_length:0,\n      //   attachment_file_name:'',\n\n      //   notes:'',\n      // filteredOptions: [],\n      // }],\n\n    RequestType: [\n        { value: 'Accommodation', text: 'Accommodation' },\n        { value: 'Client', text: 'Client' },\n        { value: 'Employee', text: 'Employee' },\n        { value: 'Supplier', text: 'Supplier' },\n        { value: 'Vendor', text: 'Vendor' },\n\n      ],\n            statusType: [\n        { value: 'Unpaid', text: 'Unpaid' },\n        // { value: 'Partially Paid', text: 'Partially Paid' },\n        { value: 'Paid', text: 'Paid' },\n      ],\n        paymentType: [\n        { value: 'Cash', text: 'Cash' },\n        { value: 'Bank Transfer', text: 'Bank Transfer' },\n      ],\n      // resourceTypes: [\n      //   { value: 'Employee', text: 'Employee' },\n      //   { value: 'Project', text: 'Project' },\n      //   { value: 'Accommodation', text: 'Accommodation' },\n      // ],\n      \n\n\n    }\n  },\n\n  mounted () {\n\n      this.getPymentRequests();\n\n  },\n   methods: {\n\n      closeSearch() {\n        this.$refs['searchModel'].hide()\n      },\n\n      // assignOwnerField(item) {\n      //   if (item) {\n          \n      //     this.formValues.resourceOwner = item.item.id;\n      //   }\n      // },\n          assignOwnerField(event) {\n\n          this.formValues.request_owner = event.item.name;\n          this.formValues.request_owner_id = event.item.id;\n\n          console.log('item request_owner',this.formValues.request_owner);\n          console.log('item request_owner_id',this.formValues.request_owner_id);\n\n\n          return;\n    },\n\n\n    onInputChange(item) {\n        let text = item.request_owner;\n        let type = item.request_type;\n      if (text === '' || text === undefined) {\n        return\n      }\n        if (type === '' || type === undefined) {\n        return\n      }\n      console.log('text',text);\n    //   return;\n      \n      // https://app.gulflamar.com/api/getEmployeeDropdown\n\n      axios.get('/documentResourceOwner', {\n        params: {\n          id: text,\n          type: item.request_type,\n        },\n      }).then(response => {\n        if (response.data.hasOwnProperty('success')) {\n          if (response.data.success === true) {\n            console.log(response.data.data)\n            this.filteredOptions = [{ data: response.data.data }]\n\n            console.log('Document Resource Owners Fetched')\n          } else {\n            this.$toast({\n              component: ToastificationContent,\n              position: 'top-right',\n              props: {\n                title: 'Error',\n                icon: 'AlertCircleIcon',\n                variant: 'danger',\n                text: response.data.message,\n              },\n            })\n          }\n        } else {\n          this.$toast({\n            component: ToastificationContent,\n            position: 'top-right',\n            props: {\n              title: 'Error',\n              icon: 'AlertCircleIcon',\n              variant: 'danger',\n              text: 'Something went wrong, try again later',\n            },\n          })\n        }\n      }).catch(error => {\n        console.error(error)\n      })\n    },\n    resourceTypeChange(val){\n\n      this.getResourceItems()\n\n    },\n\n    getResourceItems() {\n\n          axios.get('/getResourceItemsDropdown', {\n                params: {\n                  resourceType : this.formValues.resourceType,\n                },\n              }).then((response) => {\n\n            if(response.data.hasOwnProperty('success'))\n            {\n              if(response.data.success === true)\n              {\n                /*console.log(response.data.data);*/\n                this.resourceItems = response.data.data;\n                \n                \n                console.log('Resource Items Fetched');\n              }\n              else\n              {\n                this.$toast({\n                    component: ToastificationContent,\n                    position: 'top-right',\n                    props: {\n                      title: `Error`,\n                      icon: 'AlertCircleIcon',\n                      variant: 'danger',\n                      text: `Something went wrong, try again later`,\n                    },\n                  })\n              }\n              \n            }\n            else\n            {\n              this.$toast({\n                    component: ToastificationContent,\n                    position: 'top-right',\n                    props: {\n                      title: `Error`,\n                      icon: 'AlertCircleIcon',\n                      variant: 'danger',\n                      text: `Something went wrong, try again later`,\n                    },\n                  })\n            }\n\n            \n          }).catch((error) => {\n            console.error(error);\n          });\n\n\n    },\n\n      resetSearch() {\n        Object.entries(this.formValues).forEach(([key, value]) => {\n        \n            if (key == 'skills') {\n\n              this.formValues[key] = [];\n            }\n            else if(key == 'lang_eng' ||key == 'lang_ar' ||key == 'lang_hind' ||key == 'appearance_presentable' ){\n\n\n                this.formValues[key] = null;\n\n\n            } else {\n              this.formValues[key] = '';\n            }\n          \n        });\n\n        console.log(this.formValues);\n      },\n\n      onClose() {\n        this.popoverShow = false\n      },\n\n      statusVariant(ownerType){\n\n        if (ownerType == 'Unpaid') \n          {\n            return 'danger';\n          } \n        else if(ownerType == 'Paid') \n          {\n            return 'success';\n          }\n        else if(ownerType == 'Partially Paid') \n          {\n            return 'warning';\n          }\n        else\n          {\n            return 'primary';\n          }\n      },\n\n            PaymentTypeVariant(PaymentType){\n\n        if (PaymentType == 'Cash') \n          {\n            return 'primary';\n          } \n        else if(PaymentType == 'Bank Transfer') \n          {\n            return 'success';\n          } else\n          {\n            return 'primary';\n          }\n      },\n      request_type_variant(ownerType){\n\n        if (ownerType == 'Accommodation') \n          {\n            return 'warning';\n          } \n        else if(ownerType == 'Client') \n          {\n            return 'success';\n          }\n        else if(ownerType == 'Employee') \n          {\n            return 'primary';\n          }\n           else if(ownerType == 'Supplier') \n          {\n            return 'info';\n          }\n          else if(ownerType == 'Vendor') \n          {\n            return 'secondary';\n          }\n        else\n          {\n            return 'primary';\n          }\n      },\n\n      isPdf(url){\n       return true ;\n\n        if(url.substr(url.lastIndexOf('.')+1) == 'pdf')\n        {\n            return true\n        }\n        else\n        {\n          return false\n        }\n      },\n\n      deletePayment(id) {\n      console.log(id);\n      this.$swal({\n        title: 'Are you sure?',\n        text: \"You won't be able to revert this!\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, delete it!',\n        customClass: {\n          confirmButton: 'btn btn-danger',\n          cancelButton: 'btn btn-outline-danger ml-1',\n        },\n        buttonsStyling: false,\n      }).then(result => {\n        if (result.value) {\n            axios.post('/deletePayment', {\n            id: id,\n          }\n          ).then(response => {\n            if (response.data.hasOwnProperty('success')) {\n              if (response.data.success === true) {\n                this.getPymentRequests()\n\n                this.$toast({\n                  component: ToastificationContent,\n                  position: 'top-right',\n                  props: {\n                    title: 'Payment Deleted Successfully',\n                    icon: 'EditIcon',\n                    variant: 'success',\n                  },\n                })\n                console.log('Payment Deleted Successfully')\n              } else {\n                this.$toast({\n                  component: ToastificationContent,\n                  position: 'top-right',\n                  props: {\n                    title: 'Error',\n                    icon: 'AlertCircleIcon',\n                    variant: 'danger',\n                    text: 'Something went wrong, try again later',\n                  },\n                })\n              }\n            } else {\n              this.$toast({\n                component: ToastificationContent,\n                position: 'top-right',\n                props: {\n                  title: 'Error',\n                  icon: 'AlertCircleIcon',\n                  variant: 'danger',\n                  text: 'Something went wrong, try again later',\n                },\n              })\n            }\n          }).catch(error => {\n            console.error(error)\n          })\n        }\n      })\n    },\n      getPymentRequests(){\n\n        this.isBusy= true;\n\n        axios.get('/getAllPymentRequests', {\n            params: {\n              searchTerm: this.searchTerm,\n              page_no:this.page,\n              advanceSearch:this.formValues,\n              \n            },\n          })\n\n        .then((response) => {\n\n            console.log('response', response.data.data);\n            this.items = response.data.data;\n          this.base_url = response.data.base_url;\n            this.count = response.data.totalRows;\n            this.isBusy= false;\n\n          // TODO\n        }).catch((error) => {\n          console.error(error);\n        });\n      },\n\n      handlePageChange(value) {\n        this.page = value;\n        this.isBusy= true;\n        this.getPymentRequests();\n      },\n\n      searchTimeOut() {\n        let timeout = null;\n        clearTimeout(timeout);\n        // Make a new timeout set to go off in 800ms\n        timeout = setTimeout(() => {\n          this.page = 1;\n          this.getPymentRequests();\n          \n        }, 800);\n      },\n        Type_Change(item) {\n        // console.log('recipient_type',this.formValues.recipient_type);\n        // this.formValues.recipient = null;\n        // console.log('recipient',this.formValues.recipient);\n\n        // this.recipients = null;\n        this.clearResourceOwner(item);\n        // if(type == \"Accommodation\"){\n        //     this.recipients = this.recipients_accommodation;\n        //     return ;\n\n        // }\n        // if(type == \"Client\"){\n        //     this.recipients = this.recipients_client;\n        //     return ;\n\n        // }\n        // if(type == \"Employee\"){\n        //     this.recipients = this.recipients_employee;\n        //     return ;\n\n        // }\n        // if(type == \"Supplier\"){\n        //     this.recipients = this.recipients_supplier;\n        //     return ;\n\n        // }\n        // if(type == \"Vendor\"){\n        //     this.recipients = this.recipients_vendor;\n        //     return ;\n\n        // }\n        // console.log('type',type);\n        // this.recipients = this.recipients_accommodation;\n        // return ;\n\n    },\n      clearResourceOwner(item){\n      console.log('clear item ',item);\n      this.formValues.request_owner = '';\n      this.formValues.request_owner_id = '';\n\n      this.filteredOptions = [];   \n      console.log('clear item new',item);\n\n    //     this.formValues.resource_owner_id = '';\n    //     this.formValues.resource_owner_name = '';\n    //   this.filteredOptions = [];\n\n      // console.log('filteredOptions',this.filteredOptions);\n      // console.log('this.formValues.resource_owner_id',this.formValues.resource_owner_id);\n      // console.log('this.formValues.resource_owner_name',this.formValues.resource_owner_name);\n\n\n      \n    },\n    //     totalAmount(){\n    //     var TotalAmount = 0;\n\n    //     for (let i = 0; i < this.formValues.items.length;i++){\n    //         let amount = this.formValues.items[i]['amount'];\n    //             TotalAmount = Number(TotalAmount) + Number(amount);            \n    //     }\n    //         this.formValues.total_amount = Number(TotalAmount);\n\n\n    // },\n\n\n   }\n};\n</script>\n\n<style lang=\"css\" >\n\n.enlargeable-image .full  {\n  z-index:9999 !important;\n  \n  background-color: rgba(0,0,0,0.5) !important;\n}\n\n\n.customHead{\n\n  background-color: #06608f !important;\n  color:#fff;\n}\n\n.tabs_margin_calss{\n  margin-top: 5px !important;\n  margin-bottom: 5px !important;\n\n}\n\n</style>\n<style lang=\"scss\">\n@import '@core/scss/vue/libs/vue-autosuggest.scss';\n</style>"]}]}