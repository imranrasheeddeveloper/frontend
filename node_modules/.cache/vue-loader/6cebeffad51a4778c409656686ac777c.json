{"remainingRequest":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\src\\views\\table\\bs-table\\callCenter\\addCallCenter.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\src\\views\\table\\bs-table\\callCenter\\addCallCenter.vue","mtime":1659608003312},{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":1658911433225},{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1658911433727},{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":1658911433648},{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658911406787},{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1658911433727}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCnRleHRhcmVhIHsKICByZXNpemU6IHZlcnRpY2FsOwp9CmlucHV0W3R5cGU9Im51bWJlciJdOjotd2Via2l0LWlubmVyLXNwaW4tYnV0dG9uLAppbnB1dFt0eXBlPSJudW1iZXIiXTo6LXdlYmtpdC1vdXRlci1zcGluLWJ1dHRvbiB7CiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lOwogIG1hcmdpbjogMDsKfQouaHJfZGl2aWRlciB7CiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICM4Mjg2OGI7Cn0K"},{"version":3,"sources":["addCallCenter.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+fA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addCallCenter.vue","sourceRoot":"src/views/table/bs-table/callCenter","sourcesContent":["<template>\n  <b-form @submit.prevent>\n    <b-row>\n\n      <!-- <b-col md=\"6\">\n        <b-form-group label=\"Name\" label-for=\"v-name\">\n          <b-form-input id=\"v-name'\" v-model=\"formValues.name\" />\n        </b-form-group>\n      </b-col> -->\n                                  <b-col md=\"6\">\n\n        <b-form-group\n          label=\"Name\"\n                    label-for=\"autosuggest__input\"\n\n        >\n          <vue-autosuggest\n            v-model=\"formValues.name\"\n\n            :suggestions=\"filteredOptions\"\n\n            :limit=\"10\"\n            :input-props=\"{id:'autosuggest__input',class:'form-control', placeholder:'Search with name or ID',}\"\n            @input=\"onInputChange(formValues.name)\"\n            @selected=\"assignOwnerField($event)\"\n          >\n            <template slot-scope=\"{suggestion}\">\n              <span class=\"my-suggestion-item\">{{ suggestion.item.name }}, {{ suggestion.item.id }} </span>\n            </template>\n          </vue-autosuggest>\n        </b-form-group>\n      </b-col>\n\n      <b-col md=\"6\">\n        <b-form-group label=\"Project\" label-for=\"v-Project\">\n          <b-form-input id=\"v-Project'\" v-model=\"formValues.project\" />\n        </b-form-group>\n      </b-col>\n\n      <b-col md=\"6\">\n        <label for=\"v-date\">Date</label>\n        <b-input-group>\n          <cleave\n            id=\"v-date\"\n            v-model=\"formValues.date\"\n            class=\"form-control\"\n            :raw=\"false\"\n            :options=\"options.date\"\n            placeholder=\"YYYY-MM-DD\"\n          />\n\n          <b-input-group-append>\n            <b-form-datepicker\n              v-model=\"formValues.date\"\n              show-decade-nav\n              button-only\n              right\n              locale=\"en-US\"\n              aria-controls=\"v-date\"\n            />\n          </b-input-group-append>\n        </b-input-group>\n      </b-col>\n      <b-col md=\"6\">\n        <b-form-group label=\"Time\" label-for=\"v-time\">\n          <!-- <b-form-input id=\"v-time'\" v-model=\"formValues.time\" /> -->\n          <b-form-timepicker v-model=\"formValues.time\" locale=\"en\"></b-form-timepicker>\n        </b-form-group>\n\n        \n        \n      </b-col>\n      <b-col md=\"6\">\n        <b-form-group\n          label=\"Department\"\n          label-for=\"v-Department\"\n        >\n          <v-select\n            id=\"v-Department\"\n            v-model=\"formValues.department\"\n            :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\n            :options=\"userList\"\n            label=\"name\"\n            :reduce=\"name => name.id\"\n        \n            @input=\"Type_Change($event)\"\n          />\n\n        </b-form-group>\n      </b-col>\n\n      <!-- <b-col md=\"6\">\n        <b-form-group label=\"Department\" label-for=\"autosuggest__input\">\n          <vue-autosuggest\n            v-model=\"formValues.department_name\"\n            :suggestions=\"filteredOptions\"\n            :limit=\"10\"\n            :input-props=\"{\n              id: 'autosuggest__input',\n              class: 'form-control',\n              placeholder: 'Search with name or ID',\n            }\"\n            @input=\"onInputChange($event)\"\n            @selected=\"assignOwnerField($event)\"\n          >\n            <template slot-scope=\"{ suggestion }\">\n              <span class=\"my-suggestion-item\"\n                >{{ suggestion.item.name }}, {{ suggestion.item.id }}\n              </span>\n            </template>\n          </vue-autosuggest>\n        </b-form-group>\n      </b-col> -->\n      <b-col md=\"6\">\n        <b-form-group label=\"Status\" label-for=\"v-Status\">\n          <!-- <b-form-input id=\"v-Status'\" v-model=\"formValues.status\" /> -->\n          <v-select\n            id=\"v-Status\"\n            v-model=\"formValues.status\"\n            :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\n            :options=\"StatusType\"\n            label=\"text\"\n            :reduce=\"(text) => text.value\"\n        \n          />\n\n        </b-form-group>\n      </b-col>\n      <!-- <b-col md=\"6\">\n        <b-form-group label=\"Resolution\" label-for=\"v-Resolution\">\n          <b-form-input id=\"v-Resolution\" v-model=\"formValues.resolution\" />\n        </b-form-group>\n      </b-col> -->\n      <b-col md=\"6\">\n        <b-form-group label=\"Priority\" label-for=\"v-Priority\">\n          <v-select\n          id=\"v-Priority\"\n            v-model=\"formValues.resolution\"\n            :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\n            :options=\"PriorityType\"\n            label=\"text\"\n            :reduce=\"(text) => text.value\"\n          />\n        </b-form-group>\n      </b-col>\n      <b-col md=\"6\">\n        <b-form-group label=\"Contact Detail\" label-for=\"v-contact_detail\">\n          <b-form-input id=\"v-contact_detail'\" v-model=\"formValues.contact_detail\" />\n        </b-form-group>\n      </b-col>\n      <b-col md=\"6\">\n        <b-form-group label=\"Method Of Contact\" label-for=\"v-method_of_contact\">\n          <v-select\n          id=\"v-method_of_contact\"\n            v-model=\"formValues.method_of_contact\"\n            :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\n            :options=\"MethodOfContact\"\n            label=\"text\"\n            :reduce=\"(text) => text.value\"\n          />\n        </b-form-group>\n      </b-col>\n      <b-col md=\"12\">\n        <b-form-group label=\"Issue\" label-for=\"Issue\">\n          <b-form-textarea\n            id=\"Issue\"\n            v-model=\"formValues.issue\"\n            placeholder=\"Write Issue Here..\"\n            rows=\"3\"\n          />\n        </b-form-group>\n      </b-col>\n      <b-col md=\"12\">\n        <b-form-group label=\"Issue Resolution\" label-for=\"IssueResolution\">\n          <b-form-textarea\n            id=\"IssueResolution\"\n            v-model=\"formValues.issue_resolution\"\n            placeholder=\"Write Issue Resolution Here..\"\n            rows=\"3\"\n          />\n        </b-form-group>\n      </b-col>\n      <b-col md=\"12\">\n        <b-form-group label=\"Notes\" label-for=\"notes\">\n          <b-form-textarea\n            id=\"notes\"\n            v-model=\"formValues.notes\"\n            placeholder=\"Write Notes Here..\"\n            rows=\"3\"\n          />\n        </b-form-group>\n      </b-col>\n\n      <!-- submit and reset -->\n      <b-col md=\"12\">\n        <b-button\n          v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n          type=\"submit\"\n          variant=\"primary\"\n          class=\"mr-1\"\n          :disabled=\"isSubmitting\"\n          @click=\"Submit\"\n        >\n          <b-spinner v-if=\"isSubmitting\" small />\n          <span v-if=\"isSubmitting\">Please Wait</span>\n\n          <span v-if=\"!isSubmitting\">Submit</span>\n        </b-button>\n      </b-col>\n    </b-row>\n  </b-form>\n</template>\n\n<script>\nimport {\n  BRow,\n  BCol,\n  BFormGroup,\n  BFormInput,\n  BFormCheckbox,\n  BForm,\n  BButton,\n  BFormDatepicker,\n  BFormTimepicker,\n  BCard,\n  BSpinner,\n  BFormFile,\n  BFormTextarea,\n  BInputGroupAppend,\n  BInputGroup,\n} from \"bootstrap-vue\";\nimport Ripple from \"vue-ripple-directive\";\nimport vSelect from \"vue-select\";\nimport axios from \"@axios\";\nimport { heightTransition } from \"@core/mixins/ui/transition\";\nimport ToastificationContent from \"@core/components/toastification/ToastificationContent.vue\";\nimport { VueAutosuggest } from \"vue-autosuggest\";\n\nimport Cleave from \"vue-cleave-component\";\nimport \"cleave.js/dist/addons/cleave-phone.us\";\n\nexport default {\n  components: {\n    BRow,\n    BCol,\n    BFormGroup,\n    BFormInput,\n    BFormCheckbox,\n    BForm,\n    BButton,\n    BFormDatepicker,\n    vSelect,\n    VueAutosuggest,\n    BCard,\n    BSpinner,\n    BFormFile,\n    BFormTextarea,\n    BInputGroupAppend,\n    Cleave,\n    BInputGroup,\n    BFormTimepicker,\n  },\n  directives: {\n    Ripple,\n  },\n\n  mixins: [heightTransition],\n\n  data() {\n    return {\n      options: {\n        date: {\n          date: true,\n          delimiter: \"-\",\n          datePattern: [\"Y\", \"m\", \"d\"],\n        },\n      },\n\n      isSubmitting: false,\n\n      formValues: {\n        name: null,\n        name_id:null,\n        project:null,\n        department: null,\n        date: null,\n        time:null,\n        status:null,\n        method_of_contact:null,\n        resolution:null,\n        issue:null,\n        contact_detail:null,\n        issue_resolution:null,\n        notes:null,\n      },\n      filteredOptions: [],\n      userList: [],\n        StatusType: [\n        { value: \"New\", text: \"New\" },\n        { value: \"Under Process\", text: \"Under Process\" },\n        { value: \"Respond To Employee\", text: \"Respond To Employee\" },\n        { value: \"Refer To Vendor\", text: \"Refer To Vendor\" },\n        { value: \"Awaiting Vendor Response\", text: \"Awaiting Vendor Response\" },\n        { value: \"Resolved\", text: \"Resolved\" },\n      ],\n        PriorityType: [\n        { value: \"Low\", text: \"Low\" },\n        { value: \"Medium\", text: \"Medium\" },\n        { value: \"High\", text: \"High\" },\n\n      ],\n       MethodOfContact: [\n        { value: \"Phone Call\", text: \"Phone Call\" },\n        { value: \"Whatsapp\", text: \"Whatsapp\" },\n        { value: \"IMO\", text: \"IMO\" },\n        { value: \"Reference\", text: \"Reference\" },\n        { value: \"Others\", text: \"Others\" },\n\n      ],\n    };\n  },\n  mounted() {\n    this.initTrHeight();\n    this.getUsers();\n  },\n  created() {\n    window.addEventListener(\"resize\", this.initTrHeight);\n  },\n  destroyed() {\n    window.removeEventListener(\"resize\", this.initTrHeight);\n  },\n  methods: {\n    Submit() {\n      this.isSubmitting = true;\n      console.log(\"submt\", this.formValues);\n\n      // create new formData for post request to send files\n\n      const formData = new FormData();\n\n      Object.entries(this.formValues).forEach(([key, value]) => {\n        if (\n          typeof value === \"object\" &&\n          value !== null &&\n          !Array.isArray(value)\n        ) {\n          if (value instanceof File) {\n            formData.append(key, value);\n          } else {\n            formData.append(key, JSON.stringify(value));\n          }\n        } else if (\n          typeof value === \"object\" &&\n          value !== null &&\n          Array.isArray(value)\n        ) {\n          formData.append(key, JSON.stringify(value));\n        } else if (value !== null) {\n          formData.append(key, value);\n        }\n      });\n\n      axios\n        .post(\"/addCallCenter\", formData)\n        .then((response) => {\n          if (response.data.hasOwnProperty(\"success\")) {\n            if (response.data.success === true) {\n              console.log(response.data.data);\n\n              this.$router.replace(\"/Call_Center\").then(() => {\n                this.$toast({\n                  component: ToastificationContent,\n                  position: \"top-right\",\n                  props: {\n                    title: response.data.message,\n                    icon: \"EditIcon\",\n                    variant: \"success\",\n                  },\n                });\n              });\n            } else {\n              this.isSubmitting = false;\n\n              this.$toast({\n                component: ToastificationContent,\n                position: \"top-right\",\n                props: {\n                  title: response.data.message,\n                  icon: \"AlertCircleIcon\",\n                  variant: \"danger\",\n                },\n              });\n            }\n          } else {\n            this.isSubmitting = false;\n\n            this.$toast({\n              component: ToastificationContent,\n              position: \"top-right\",\n              props: {\n                title: \"Error\",\n                icon: \"AlertCircleIcon\",\n                variant: \"danger\",\n                text: \"Something went wrong, try again later\",\n              },\n            });\n          }\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n\n    onInputChange(text) {\n        let type = \"Employee\";\n      if (text === '' || text === undefined) {\n        return\n      }\n        if (type === '' || type === undefined) {\n        return\n      }\n      console.log('text',text);\n    //   return;\n      \n      // https://app.gulflamar.com/api/getEmployeeDropdown\n\n      axios.get('/documentResourceOwner', {\n        params: {\n          id: text,\n          type: type,\n        },\n      }).then(response => {\n        if (response.data.hasOwnProperty('success')) {\n          if (response.data.success === true) {\n            console.log(response.data.data)\n            this.filteredOptions = [{ data: response.data.data }]\n\n            console.log('Document Resource Owners Fetched')\n          } else {\n            this.$toast({\n              component: ToastificationContent,\n              position: 'top-right',\n              props: {\n                title: 'Error',\n                icon: 'AlertCircleIcon',\n                variant: 'danger',\n                text: response.data.message,\n              },\n            })\n          }\n        } else {\n          this.$toast({\n            component: ToastificationContent,\n            position: 'top-right',\n            props: {\n              title: 'Error',\n              icon: 'AlertCircleIcon',\n              variant: 'danger',\n              text: 'Something went wrong, try again later',\n            },\n          })\n        }\n      }).catch(error => {\n        console.error(error)\n      })\n    },\n\n    getUsers() {\n      this.isBusy = true;\n      axios\n        .get(\"/getAllSystemUsers\", {\n          params: {\n            searchTerm: this.searchTerm,\n            page_no: this.page,\n          },\n        })\n\n        .then((response) => {\n          console.log(\"response\", response.data.data);\n          this.userList = response.data.data;\n          this.isBusy = false;\n\n          // TODO\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n    Type_Change(id) {\n      console.log(\"type\", id);\n\n      this.formValues.department = id;\n    },\n    assignOwnerField(event) {\n      console.log(\"name\", event.item);\n      this.formValues.name = event.item.name;\n      this.formValues.name_id = event.item.id;\n\n      return;\n    },\n    initTrHeight() {\n      this.trSetHeight(null);\n      this.$nextTick(() => {\n        // this.trSetHeight(this.$refs.form.scrollHeight);\n      });\n    },\n  },\n};\n</script>\n\n<style>\ntextarea {\n  resize: vertical;\n}\ninput[type=\"number\"]::-webkit-inner-spin-button,\ninput[type=\"number\"]::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n.hr_divider {\n  border-bottom: 2px solid #82868b;\n}\n</style>\n<style lang=\"scss\">\n@import \"@core/scss/vue/libs/vue-autosuggest.scss\";\n</style>"]}]}