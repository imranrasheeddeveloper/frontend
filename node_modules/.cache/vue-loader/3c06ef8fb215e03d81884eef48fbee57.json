{"remainingRequest":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\src\\views\\table\\bs-table\\paymentRequest\\listPaymentRequestView.vue?vue&type=style&index=1&lang=scss&","dependencies":[{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\src\\views\\table\\bs-table\\paymentRequest\\listPaymentRequestView.vue","mtime":1658916280558},{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":1658911433225},{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1658911433727},{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":1658911433648},{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1658911445082},{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658911406787},{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1658911433727}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAaW1wb3J0ICdAY29yZS9zY3NzL3Z1ZS9saWJzL3Z1ZS1hdXRvc3VnZ2VzdC5zY3NzJzsK"},{"version":3,"sources":["listPaymentRequestView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkoCA","file":"listPaymentRequestView.vue","sourceRoot":"src/views/table/bs-table/paymentRequest","sourcesContent":["<template>\n  \n    <div>\n\n      <!-- search input -->\n      <div class=\"custom-search d-flex justify-content-between\">\n        <b-form-group>\n          <div class=\"d-flex align-items-center\">\n            <!-- <label class=\"mr-1\">Search</label> -->\n\n            <b-input-group>\n              <b-input-group-prepend>\n                <b-button variant=\"outline-primary\" @click=\"page=1, getPymentRequests()\">\n                  <feather-icon icon=\"SearchIcon\" />\n                </b-button>\n              </b-input-group-prepend>\n              <b-form-input\n                v-model=\"searchTerm\"\n                placeholder=\"Search\"\n                type=\"text\"\n                class=\" d-inline-block\"\n                @keyup=\"searchTimeOut()\"\n              />\n\n              <b-input-group-append>\n                <b-button \n                v-ripple.400=\"'rgba(113, 102, 240, 0.15)'\"\n                v-b-modal.modal-advancesearch\n                variant=\"outline-primary\">\n                  Advance search\n                </b-button>\n              </b-input-group-append>\n              \n            </b-input-group>\n\n\n          </div>\n        </b-form-group>\n\n        <b-form-group v-if=\"$ability.can('add/copy', 'payment')\">\n          <div class=\"d-flex align-items-center\">\n\n            <b-input-group>\n\n\n              <b-input-group-prepend>\n\n                <b-button\n                  v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n                  variant=\"primary\"\n\n                  :to=\"{ name: 'create-new-payment-request'}\"\n                  \n                  title=\"Payment Request\"\n\n                >\n                ADD+\n                </b-button>\n              </b-input-group-prepend>\n\n            </b-input-group>\n\n          </div>\n        </b-form-group>\n      </div>\n\n\n      <!-- Advance Search Model -->\n      <b-modal\n        hide-footer\n        id=\"modal-advancesearch\"\n        title=\"Advance Search\"\n        ref='searchModel'\n        size=\"lg\"\n        cancel-variant=\"outline-secondary\"\n      >\n        <b-form @submit.prevent>\n          <b-row>\n\n                <b-col md=\"6\">\n                  <b-form-group\n                    label=\"Request Type\"\n                    label-for=\"request_type\"\n\n                  >\n\n                    <v-select\n                      id=\"request_type\"\n\n                      v-model=\"formValues.request_type\"\n                      :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\n                      :options=\"RequestType\"\n\n                      label=\"text\"\n                      :reduce=\"text => text.value\"\n                       @input=\"Type_Change(formValues.request_type)\"\n                    />\n\n                  </b-form-group>\n                </b-col>\n\n                <!-- <b-col md=\"6\">\n                  <b-form-group\n                    label=\"Request Owner\"\n                    label-for=\"request_owner\"\n                  >\n                    <b-form-input\n                      id=\"request_owner\"\n                      v-model=\"item.request_owner\"\n                      type=\"text\"\n                    />\n                  </b-form-group>\n                </b-col> -->\n                            <b-col md=\"6\">\n\n        <b-form-group\n          label=\"Resource Owner\"\n                    label-for=\"autosuggest__input\"\n\n        >\n          <vue-autosuggest\n            v-model=\"formValues.request_owner\"\n\n            :suggestions=\"filteredOptions\"\n\n            :limit=\"10\"\n            :input-props=\"{id:'autosuggest__input',class:'form-control', placeholder:'Search with name or ID',}\"\n            @input=\"onInputChange(formValues)\"\n            @selected=\"assignOwnerField($event)\"\n          >\n            <template slot-scope=\"{suggestion}\">\n              <span class=\"my-suggestion-item\">{{ suggestion.item.name }}, {{ suggestion.item.id }} </span>\n            </template>\n          </vue-autosuggest>\n        </b-form-group>\n      </b-col>\n\n                <b-col md=\"6\">\n                  <b-form-group\n                    label=\"Payemnt Type\"\n                    label-for=\"payment_type\"\n\n                  >\n\n                    <v-select\n                      id=\"payment_type\"\n                      v-model=\"formValues.payment_type\"\n                      :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\n                      :options=\"paymentType\"\n\n                      label=\"text\"\n                      :reduce=\"text => text.value\"\n                    />\n\n                  </b-form-group>\n                </b-col>\n\n                      <b-col md=\"6\">\n                        <b-form-group\n                        label=\"Status\"\n                        label-for=\"status\"\n\n                        >                      \n                        <v-select\n\n                            id=\"status\"\n\n                            v-model=\"formValues.status\"\n                            :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\n                            :options=\"statusType\"\n                           \n\n                            label=\"text\"\n                            :reduce=\"text => text.value\"\n                        />\n                        </b-form-group>\n                    </b-col>\n\n <!-- @input=\"ChangePaymentStatus()\" -->\n              \n\n              <b-col md=\"12\">\n\n                <b-button\n                  v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n                  type=\"submit\"\n                  variant=\"primary\"\n                  class=\"mr-1\"\n                  @click=\"page=1,searchTerm='',closeSearch(), getPymentRequests()\"\n                >\n\n                  <span  >GO</span>\n                </b-button>\n\n                <b-button\n                  v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n                  type=\"submit\"\n                  variant=\"outline-primary\"\n                  class=\"mr-1\"\n                  @click=\"resetSearch\"\n                >\n\n                  <span  >Reset</span>\n                </b-button>\n\n                <b-button\n                  v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n                  type=\"submit\"\n                  variant=\"outline-secondary\"\n                  class=\"mr-1\"\n                  @click=\"closeSearch\"\n                >\n\n                  <span  >Cancel</span>\n                </b-button>\n\n                \n              </b-col>\n          \n           </b-row>\n        </b-form>\n      </b-modal>\n\n      \n\n      <b-table\n        :items=\"items\"\n        :fields=\"fields\"\n        striped\n        responsive\n        class=\"mb-0\"\n        :busy=\"isBusy\"\n      >\n        <template #cell(Options)=\"row\">\n        \n        <div>\n        <!-- As `row.showDetails` is one-way, we call the toggleDetails function on @change -->\n        <b-form-group>\n          <div class=\"d-flex align-items-center w-fit-content\">\n            <b-input-group>\n              <b-input-group-prepend>\n                <b-button\n                  size=\"sm\"\n                  v-ripple.400=\"'rgba(113, 102, 240, 0.15)'\"\n                  variant=\"outline-primary\"\n                  v-bind:class=\"row.detailsShowing ? 'active' : ''\"\n                  @click=\"row.toggleDetails\"\n                >\n                  <feather-icon\n                    icon=\"ChevronUpIcon\"\n                    v-if=\"row.detailsShowing\"\n                  />\n\n                  <feather-icon icon=\"ChevronDownIcon\" v-else />\n                </b-button>\n              </b-input-group-prepend>\n\n              <b-input-group-append v-if=\"$ability.can('edit', 'payment')\">\n                <b-button\n                  size=\"sm\"\n                  :to=\"{name: 'edit_payment_request', params: { id: row.item.id } }\"\n                  v-ripple.400=\"'rgba(40, 199, 111, 0.15)'\"\n                  variant=\"outline-primary text-success\"\n                >\n                  <feather-icon icon=\"EditIcon\" />\n                </b-button>\n              </b-input-group-append>\n              <b-input-group-append\n                v-if=\"$ability.can('delete', 'payment')\"\n              >\n                <b-button\n                  size=\"sm\"\n                  v-ripple.400=\"'rgba(40, 199, 111, 0.15)'\"\n                  variant=\"outline-primary text-danger\"\n                  @click=\"deletePayment(row.item.id)\"\n                >\n                  <feather-icon icon=\"Trash2Icon\" />\n                </b-button>\n              </b-input-group-append>\n\n              <b-input-group-append>\n                <b-button\n                  size=\"sm\"\n                  v-ripple.400=\"'rgba(40, 199, 111, 0.15)'\"\n                  :href=\"'/print_payments/'+ row.item.id\"\n                  target=\"_blank\"\n                  variant=\"outline-primary\"\n                >\n                  <feather-icon icon=\"PrinterIcon\" />\n                </b-button>\n                \n              </b-input-group-append>\n            </b-input-group>\n          </div>\n        </b-form-group>  \n        </div> \n        </template>\n\n        <!-- full detail on click -->\n\n\n\n\n\n\n\n        \n\n        <!-- <template #cell(iqama)=\"data\">\n          <b-avatar :src=\"data.value\" />\n        </template> -->\n\n        <template #cell(status)=\"data\">\n          <b-badge\n            pill\n            :variant=\"statusVariant(data.value)\"\n          >\n            {{ data.value}}\n          </b-badge>\n        </template>\n\n\n\n\n        <!-- full detail on click -->\n\n\n\n\n      <template #row-details=\"row\">\n        <b-card no-body>\n          <b-row >\n            <b-col cols=\"12\" class=\"text-center p-0 m-0\"><label class=\"h4 p-0 py-1\">Payment List</label></b-col>\n            <b-col cols=\"12\">\n              <b-tabs\n                pills\n                card\n                horizontal\n              >\n                <b-tab :title=\"item.request_owner\" v-for=\"item in row.item.payments\" :key=\"item.id\" :title-link-class=\"'mx-1 border border-primary tabs_margin_calss'\">\n                  <b-card-text>\n                    <b-row class=\"border-bottom \">\n                      <b-col cols=\"2\">\n                        <strong>ID</strong>\n                      </b-col>\n                      <b-col cols=\"10\">\n                        {{ item.id }}\n                      </b-col>\n                    </b-row>\n                    <b-row class=\"border-bottom \">\n                      <b-col cols=\"2\">\n                        <strong>Payment Request ID</strong>\n                      </b-col>\n                      <b-col cols=\"10\">\n                        {{ item.request_payment_id }}\n                      </b-col>\n                    </b-row>\n                    <b-row class=\"border-bottom \">\n                      <b-col cols=\"2\">\n                        <strong>Request Type</strong>\n                      </b-col>\n                      <b-col cols=\"10\">\n                        <b-badge\n                          pill\n                          :variant=\"request_type_variant(item.request_type)\"\n                        >\n                        {{ item.request_type }}\n                        </b-badge>\n                      </b-col>\n                    </b-row>\n                    <b-row class=\"border-bottom \">\n                      <b-col cols=\"2\">\n                        <strong>Request Owner</strong>\n                      </b-col>\n                      <b-col cols=\"10\">\n                        {{ item.request_owner }}\n                      </b-col>\n                    </b-row>\n                    <b-row class=\"border-bottom \">\n                      <b-col cols=\"2\">\n                        <strong>Request Owner Id</strong>\n                      </b-col>\n                      <b-col cols=\"10\">\n                        {{ item.request_owner_id }}\n                      </b-col>\n                    </b-row>\n                    <b-row class=\"border-bottom \">\n                      <b-col cols=\"2\">\n                        <strong>Payment Type</strong>\n                      </b-col>\n                      <b-col cols=\"10\">\n                         <b-badge\n                          pill\n                          :variant=\"PaymentTypeVariant(item.payment_type)\"\n                        >\n                        {{ item.payment_type }}\n                        </b-badge>\n                      </b-col>\n                    </b-row>\n                    <b-row class=\"border-bottom \">\n                      <b-col cols=\"2\">\n                        <strong>Amount</strong>\n                      </b-col>\n                      <b-col cols=\"10\">\n                        {{ item.amount }}\n                      </b-col>\n                    </b-row>\n                    <b-row class=\"border-bottom \">\n                      <b-col cols=\"2\">\n                        <strong>Status</strong>\n                      </b-col>\n                      <b-col cols=\"10\">\n                        \n                        <b-badge\n                          pill\n                          :variant=\"statusVariant(item.status)\"\n                        >\n                          {{ item.status}}\n                        </b-badge>\n                      </b-col>\n                    </b-row>\n                    <b-row class=\"border-bottom \" v-for=\"attach in item.attachment\" :key=\"attach\">\n                      <b-col cols=\"2\">\n                        <strong>Attachment</strong>\n                      </b-col>\n                      <b-col cols=\"10\">\n                        \n                        <a\n                          class=\"btn btn-primary\"\n                          :href=\"base_url+'/'+attach\"\n                          target=\"_blank\"\n                        >View file</a>\n                      </b-col>\n                    </b-row>\n                    <b-row class=\"border-bottom \">\n                      <b-col cols=\"2\">\n                        <strong>Notes</strong>\n                      </b-col>\n                      <b-col cols=\"10\">\n                        {{ item.notes }}\n                      </b-col>\n                    </b-row>\n                    <b-row class=\"border-bottom \">\n                      \n                      <b-col cols=\"12\" class=\"text-right\">\n                       <strong>Created By : </strong> {{ item.created_by }}\n                      </b-col>\n                    </b-row>\n                    <b-row class=\"border-bottom \" v-if=\"item.updated_by\">\n                      \n                      <b-col cols=\"12\" class=\"text-right\">\n                        <strong>Updated By : </strong> {{ item.updated_by }}\n                      </b-col>\n                    </b-row>\n\n\n\n\n\n                    \n                  </b-card-text>\n                </b-tab>\n\n\n\n              </b-tabs>\n            </b-col>\n          </b-row>\n\n          <!-- <b-button\n              size=\"sm\"\n              variant=\"outline-secondary\"\n              @click=\"row.toggleDetails\"\n            >\n              Hide Details\n            </b-button> -->\n        </b-card>\n      </template>\n\n\n\n\n\n       <template #table-busy>\n        <div class=\"text-center text-primary my-2\">\n          <b-spinner class=\"align-middle\"></b-spinner>\n          <strong>Loading...</strong>\n        </div>\n      </template>\n\n        <!-- <template #cell(status)=\"data\">\n          <b-badge :variant=\"status[1][data.value]\">\n            {{ status[0][data.value] }}\n          </b-badge>\n        </template> -->\n      </b-table>\n\n      <div class=\"d-flex justify-content-end\">\n        <b-pagination\n          v-model=\"page\"\n          :total-rows=\"count\"\n          :per-page=\"pageSize\"\n          pills\n          @change=\"handlePageChange\"\n        ></b-pagination>\n      </div>\n    </div>\n\n    \n \n</template>\n\n<script>\nimport BCardCode from '@core/components/b-card-code/BCardCode.vue'\nimport axios from '@axios'\nimport vSelect from 'vue-select'\nimport {\n  BTable, BFormCheckbox, BButton, BCard, BRow, BCol, BAvatar, BBadge, BImg, BTabs, BTab, BCardText, BPagination, BFormGroup, BFormInput, BFormSelect, BDropdown, BDropdownItem, BInputGroup, BInputGroupAppend, BInputGroupPrepend, BFormDatepicker, BFormFile,BFormTextarea,BFormRadio,BForm,BFormCheckboxGroup,BFormRating,BListGroupItem ,BListGroup,BPopover,BSpinner,\n} from 'bootstrap-vue'\n\n\nimport Ripple from 'vue-ripple-directive'\nimport EnlargeableImage from '@diracleo/vue-enlargeable-image';\nimport Cleave from 'vue-cleave-component'\nimport 'cleave.js/dist/addons/cleave-phone.us'\nimport { VueAutosuggest } from 'vue-autosuggest'\n\nimport ToastificationContent from '@core/components/toastification/ToastificationContent.vue'\n\nexport default {\n  components: {\n    BCardCode,\n    BTable,\n    BButton,\n    BFormCheckbox,\n    BCard,\n    BRow,\n    BCol,\n    BBadge,\n    BAvatar,\n    BImg,\n    EnlargeableImage,\n    BTabs,\n    BTab,\n    BCardText,\n    BPagination,\n    BFormGroup,\n    BFormInput,\n    BFormSelect,\n    BDropdown,\n    BDropdownItem,\n    BInputGroup,\n    BInputGroupAppend,\n    BInputGroupPrepend,\n    BFormDatepicker, \n    BFormFile,\n    BFormTextarea,\n    BFormRadio,\n    BForm,\n    vSelect,\n    BFormCheckboxGroup,\n    BFormRating,\n    BListGroup,\n    BListGroupItem ,\n    BPopover,\n    BSpinner,\n    Cleave,\n    VueAutosuggest,\n  },\n  directives: {\n    Ripple,\n  },\n  data() {\n    return {\n      base_url: '',\n\n      options: {\n        penColor: \"#000\",\n        backgroundColor: '#fff',\n        phone: {\n          prefix: '9665',\n          blocks: [12],\n          uppercase: true,\n          noImmediatePrefix: true\n        },\n        date: {\n          date: true,\n          delimiter: '-',\n          datePattern: ['Y', 'm', 'd'],\n        },\n        account_number: {\n          blocks: [15],\n          uppercase: true,\n        },\n        iqama_number: {\n          blocks: [10],\n          uppercase: true,\n        },\n        cr_number: {\n          blocks: [10],\n          uppercase: true,\n        },\n        iban: {\n          prefix: 'SA',\n          blocks: [24],\n          uppercase: true,\n          noImmediatePrefix: true\n        },\n      },\n\n      popoverShow:false,\n      exportLimit:'',\n      isBusy : true,\n      fields: [{ key: 'Options', thClass: 'customHead' },{key:'id',label:'Id',sortable: true,thClass: 'customHead'},  {key:'initiated_by',label:'Initiated By',sortable: true,thClass: 'customHead'},{key:'total_amount',label:'Total Amount',sortable: true,thClass: 'customHead'},{key:'date',labe:'Date',sortable: true,thClass: 'customHead'},{key:'status',label:'Status',sortable: true,thClass: 'customHead'},\n      // {key:'created_by',label:'Created By',sortable: true,thClass: 'customHead'},\n      ],\n      itemFields: ['name','quantity'],\n      items: [\n      ],\n      emp_detail: [\n        { age: 40, first_name: 'Dickerson', last_name: 'Macdonald' }\n        ],\n      /* eslint-disable global-require */\n      status: [{\n        1: 'Current', 2: 'Professional', 3: 'Rejected', 4: 'Resigned', 5: 'Applied',\n      },\n      {\n        1: 'light-primary', 2: 'light-success', 3: 'light-danger', 4: 'light-warning', 5: 'light-info',\n      }],\n    \n      searchTerm:'',\n      pageSize:10,\n      page:1,\n      count:0,\n\n      filteredOptions:[],\n\n      formValues: {\n\n        // resourceType:'',\n        // resourceOwner:'',\n        // allocationDate:'',\n        // notes:'',\n\n\n                request_type:'',\n        request_owner:'',\n        request_owner_id:'',\n\n        payment_type:'',\n        // amount:'',\n        status:'',\n        // attachment:[],\n        // attachment_length:0,\n        // attachment_file_name:'',\n\n        // notes:'',\n      // filteredOptions: [],\n\n\n      },\n\n      //         items: [{\n      //   request_type:'',\n      //   request_owner:'',\n      //   request_owner_id:'',\n\n      //   payment_type:'',\n      //   amount:'',\n      //   status:'',\n      //   attachment:[],\n      //   attachment_length:0,\n      //   attachment_file_name:'',\n\n      //   notes:'',\n      // filteredOptions: [],\n      // }],\n\n    RequestType: [\n        { value: 'Accommodation', text: 'Accommodation' },\n        { value: 'Client', text: 'Client' },\n        { value: 'Employee', text: 'Employee' },\n        { value: 'Supplier', text: 'Supplier' },\n        { value: 'Vendor', text: 'Vendor' },\n\n      ],\n            statusType: [\n        { value: 'Unpaid', text: 'Unpaid' },\n        // { value: 'Partially Paid', text: 'Partially Paid' },\n        { value: 'Paid', text: 'Paid' },\n      ],\n        paymentType: [\n        { value: 'Cash', text: 'Cash' },\n        { value: 'Bank Transfer', text: 'Bank Transfer' },\n      ],\n      // resourceTypes: [\n      //   { value: 'Employee', text: 'Employee' },\n      //   { value: 'Project', text: 'Project' },\n      //   { value: 'Accommodation', text: 'Accommodation' },\n      // ],\n      \n\n\n    }\n  },\n\n  mounted () {\n\n      this.getPymentRequests();\n\n  },\n   methods: {\n\n      closeSearch() {\n        this.$refs['searchModel'].hide()\n      },\n\n      // assignOwnerField(item) {\n      //   if (item) {\n          \n      //     this.formValues.resourceOwner = item.item.id;\n      //   }\n      // },\n          assignOwnerField(event) {\n\n          this.formValues.request_owner = event.item.name;\n          this.formValues.request_owner_id = event.item.id;\n\n          console.log('item request_owner',this.formValues.request_owner);\n          console.log('item request_owner_id',this.formValues.request_owner_id);\n\n\n          return;\n    },\n\n\n    onInputChange(item) {\n        let text = item.request_owner;\n        let type = item.request_type;\n      if (text === '' || text === undefined) {\n        return\n      }\n        if (type === '' || type === undefined) {\n        return\n      }\n      console.log('text',text);\n    //   return;\n      \n      // https://app.gulflamar.com/api/getEmployeeDropdown\n\n      axios.get('/documentResourceOwner', {\n        params: {\n          id: text,\n          type: item.request_type,\n        },\n      }).then(response => {\n        if (response.data.hasOwnProperty('success')) {\n          if (response.data.success === true) {\n            console.log(response.data.data)\n            this.filteredOptions = [{ data: response.data.data }]\n\n            console.log('Document Resource Owners Fetched')\n          } else {\n            this.$toast({\n              component: ToastificationContent,\n              position: 'top-right',\n              props: {\n                title: 'Error',\n                icon: 'AlertCircleIcon',\n                variant: 'danger',\n                text: response.data.message,\n              },\n            })\n          }\n        } else {\n          this.$toast({\n            component: ToastificationContent,\n            position: 'top-right',\n            props: {\n              title: 'Error',\n              icon: 'AlertCircleIcon',\n              variant: 'danger',\n              text: 'Something went wrong, try again later',\n            },\n          })\n        }\n      }).catch(error => {\n        console.error(error)\n      })\n    },\n    resourceTypeChange(val){\n\n      this.getResourceItems()\n\n    },\n\n    getResourceItems() {\n\n          axios.get('/getResourceItemsDropdown', {\n                params: {\n                  resourceType : this.formValues.resourceType,\n                },\n              }).then((response) => {\n\n            if(response.data.hasOwnProperty('success'))\n            {\n              if(response.data.success === true)\n              {\n                /*console.log(response.data.data);*/\n                this.resourceItems = response.data.data;\n                \n                \n                console.log('Resource Items Fetched');\n              }\n              else\n              {\n                this.$toast({\n                    component: ToastificationContent,\n                    position: 'top-right',\n                    props: {\n                      title: `Error`,\n                      icon: 'AlertCircleIcon',\n                      variant: 'danger',\n                      text: `Something went wrong, try again later`,\n                    },\n                  })\n              }\n              \n            }\n            else\n            {\n              this.$toast({\n                    component: ToastificationContent,\n                    position: 'top-right',\n                    props: {\n                      title: `Error`,\n                      icon: 'AlertCircleIcon',\n                      variant: 'danger',\n                      text: `Something went wrong, try again later`,\n                    },\n                  })\n            }\n\n            \n          }).catch((error) => {\n            console.error(error);\n          });\n\n\n    },\n\n      resetSearch() {\n        Object.entries(this.formValues).forEach(([key, value]) => {\n        \n            if (key == 'skills') {\n\n              this.formValues[key] = [];\n            }\n            else if(key == 'lang_eng' ||key == 'lang_ar' ||key == 'lang_hind' ||key == 'appearance_presentable' ){\n\n\n                this.formValues[key] = null;\n\n\n            } else {\n              this.formValues[key] = '';\n            }\n          \n        });\n\n        console.log(this.formValues);\n      },\n\n      onClose() {\n        this.popoverShow = false\n      },\n\n      statusVariant(ownerType){\n\n        if (ownerType == 'Unpaid') \n          {\n            return 'danger';\n          } \n        else if(ownerType == 'Paid') \n          {\n            return 'success';\n          }\n        else if(ownerType == 'Partially Paid') \n          {\n            return 'warning';\n          }\n        else\n          {\n            return 'primary';\n          }\n      },\n\n            PaymentTypeVariant(PaymentType){\n\n        if (PaymentType == 'Cash') \n          {\n            return 'primary';\n          } \n        else if(PaymentType == 'Bank Transfer') \n          {\n            return 'success';\n          } else\n          {\n            return 'primary';\n          }\n      },\n      request_type_variant(ownerType){\n\n        if (ownerType == 'Accommodation') \n          {\n            return 'warning';\n          } \n        else if(ownerType == 'Client') \n          {\n            return 'success';\n          }\n        else if(ownerType == 'Employee') \n          {\n            return 'primary';\n          }\n           else if(ownerType == 'Supplier') \n          {\n            return 'info';\n          }\n          else if(ownerType == 'Vendor') \n          {\n            return 'secondary';\n          }\n        else\n          {\n            return 'primary';\n          }\n      },\n\n      isPdf(url){\n       return true ;\n\n        if(url.substr(url.lastIndexOf('.')+1) == 'pdf')\n        {\n            return true\n        }\n        else\n        {\n          return false\n        }\n      },\n\n      deletePayment(id) {\n      console.log(id);\n      this.$swal({\n        title: 'Are you sure?',\n        text: \"You won't be able to revert this!\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, delete it!',\n        customClass: {\n          confirmButton: 'btn btn-danger',\n          cancelButton: 'btn btn-outline-danger ml-1',\n        },\n        buttonsStyling: false,\n      }).then(result => {\n        if (result.value) {\n            axios.post('/deletePayment', {\n            id: id,\n          }\n          ).then(response => {\n            if (response.data.hasOwnProperty('success')) {\n              if (response.data.success === true) {\n                this.getPymentRequests()\n\n                this.$toast({\n                  component: ToastificationContent,\n                  position: 'top-right',\n                  props: {\n                    title: 'Payment Deleted Successfully',\n                    icon: 'EditIcon',\n                    variant: 'success',\n                  },\n                })\n                console.log('Payment Deleted Successfully')\n              } else {\n                this.$toast({\n                  component: ToastificationContent,\n                  position: 'top-right',\n                  props: {\n                    title: 'Error',\n                    icon: 'AlertCircleIcon',\n                    variant: 'danger',\n                    text: 'Something went wrong, try again later',\n                  },\n                })\n              }\n            } else {\n              this.$toast({\n                component: ToastificationContent,\n                position: 'top-right',\n                props: {\n                  title: 'Error',\n                  icon: 'AlertCircleIcon',\n                  variant: 'danger',\n                  text: 'Something went wrong, try again later',\n                },\n              })\n            }\n          }).catch(error => {\n            console.error(error)\n          })\n        }\n      })\n    },\n      getPymentRequests(){\n\n        this.isBusy= true;\n\n        axios.get('/getAllPymentRequests', {\n            params: {\n              searchTerm: this.searchTerm,\n              page_no:this.page,\n              advanceSearch:this.formValues,\n              \n            },\n          })\n\n        .then((response) => {\n\n            console.log('response', response.data.data);\n            this.items = response.data.data;\n          this.base_url = response.data.base_url;\n            this.count = response.data.totalRows;\n            this.isBusy= false;\n\n          // TODO\n        }).catch((error) => {\n          console.error(error);\n        });\n      },\n\n      handlePageChange(value) {\n        this.page = value;\n        this.isBusy= true;\n        this.getPymentRequests();\n      },\n\n      searchTimeOut() {\n        let timeout = null;\n        clearTimeout(timeout);\n        // Make a new timeout set to go off in 800ms\n        timeout = setTimeout(() => {\n          this.page = 1;\n          this.getPymentRequests();\n          \n        }, 800);\n      },\n        Type_Change(item) {\n        // console.log('recipient_type',this.formValues.recipient_type);\n        // this.formValues.recipient = null;\n        // console.log('recipient',this.formValues.recipient);\n\n        // this.recipients = null;\n        this.clearResourceOwner(item);\n        // if(type == \"Accommodation\"){\n        //     this.recipients = this.recipients_accommodation;\n        //     return ;\n\n        // }\n        // if(type == \"Client\"){\n        //     this.recipients = this.recipients_client;\n        //     return ;\n\n        // }\n        // if(type == \"Employee\"){\n        //     this.recipients = this.recipients_employee;\n        //     return ;\n\n        // }\n        // if(type == \"Supplier\"){\n        //     this.recipients = this.recipients_supplier;\n        //     return ;\n\n        // }\n        // if(type == \"Vendor\"){\n        //     this.recipients = this.recipients_vendor;\n        //     return ;\n\n        // }\n        // console.log('type',type);\n        // this.recipients = this.recipients_accommodation;\n        // return ;\n\n    },\n      clearResourceOwner(item){\n      console.log('clear item ',item);\n      this.formValues.request_owner = '';\n      this.formValues.request_owner_id = '';\n\n      this.filteredOptions = [];   \n      console.log('clear item new',item);\n\n    //     this.formValues.resource_owner_id = '';\n    //     this.formValues.resource_owner_name = '';\n    //   this.filteredOptions = [];\n\n      // console.log('filteredOptions',this.filteredOptions);\n      // console.log('this.formValues.resource_owner_id',this.formValues.resource_owner_id);\n      // console.log('this.formValues.resource_owner_name',this.formValues.resource_owner_name);\n\n\n      \n    },\n    //     totalAmount(){\n    //     var TotalAmount = 0;\n\n    //     for (let i = 0; i < this.formValues.items.length;i++){\n    //         let amount = this.formValues.items[i]['amount'];\n    //             TotalAmount = Number(TotalAmount) + Number(amount);            \n    //     }\n    //         this.formValues.total_amount = Number(TotalAmount);\n\n\n    // },\n\n\n   }\n};\n</script>\n\n<style lang=\"css\" >\n\n.enlargeable-image .full  {\n  z-index:9999 !important;\n  \n  background-color: rgba(0,0,0,0.5) !important;\n}\n\n\n.customHead{\n\n  background-color: #06608f !important;\n  color:#fff;\n}\n\n.tabs_margin_calss{\n  margin-top: 5px !important;\n  margin-bottom: 5px !important;\n\n}\n\n</style>\n<style lang=\"scss\">\n@import '@core/scss/vue/libs/vue-autosuggest.scss';\n</style>"]}]}