{"remainingRequest":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\src\\views\\table\\bs-table\\purchasingCenter\\purchaseTableView.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\src\\views\\table\\bs-table\\purchasingCenter\\purchaseTableView.vue","mtime":1658918742335},{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":1658911433225},{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1658911433727},{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":1658911433648},{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658911406787},{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1658911433727}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5lbmxhcmdlYWJsZS1pbWFnZSAuZnVsbCAgewogIHotaW5kZXg6OTk5OSAhaW1wb3J0YW50OwoKICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuNSkgIWltcG9ydGFudDsKfQoKLmN1c3RvbUhlYWR7CgogIGJhY2tncm91bmQtY29sb3I6ICMwNjYwOGYgIWltcG9ydGFudDsKICBjb2xvcjojZmZmOwp9Cgo="},{"version":3,"sources":["purchaseTableView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA21BA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA","file":"purchaseTableView.vue","sourceRoot":"src/views/table/bs-table/purchasingCenter","sourcesContent":["<template>\n\n  <div>\n\n    <!-- search input -->\n    <div class=\"custom-search d-flex justify-content-between\">\n      <b-form-group>\n        <div class=\"d-flex align-items-center\">\n          <!-- <label class=\"mr-1\">Search</label> -->\n\n          <b-input-group>\n            <b-input-group-prepend>\n              <b-button\n                variant=\"outline-primary\"\n                @click=\"page=1, getEmployees()\"\n              >\n                <feather-icon icon=\"SearchIcon\" />\n              </b-button>\n            </b-input-group-prepend>\n            <b-form-input\n              v-model=\"searchTerm\"\n              placeholder=\"Search\"\n              type=\"text\"\n              class=\" d-inline-block\"\n              @keyup=\"searchTimeOut()\"\n            />\n            <b-input-group-append>\n                <b-button \n                v-ripple.400=\"'rgba(113, 102, 240, 0.15)'\"\n                v-b-modal.modal-advancesearch\n                variant=\"outline-primary\">\n                  Advance search\n                </b-button>\n              </b-input-group-append>\n\n          </b-input-group>\n\n        </div>\n      </b-form-group>\n\n      <b-form-group v-if=\"$ability.can('add/copy', 'purchase_order')\">\n        <div class=\"d-flex align-items-center\">\n\n          <b-input-group>\n\n            <b-input-group-prepend>\n\n              <div id=\"my-container\">\n\n                <b-button\n                  id=\"popover-reactive-1\"\n                  ref=\"button\"\n                  v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n                  title=\"Export\"\n                  variant=\"outline-primary\"\n                >\n                  <feather-icon icon=\"DownloadIcon\" />\n                </b-button>\n\n                <b-popover\n                  ref=\"popover\"\n                  target=\"popover-reactive-1\"\n                  triggers=\"click\"\n                  :show.sync=\"popoverShow\"\n                  placement=\"auto\"\n                  container=\"my-container\"\n                >\n                  <template #title>\n                    <div class=\"d-flex justify-content-between align-items-center\">\n                      <span>Export Table</span>\n                    </div>\n                  </template>\n\n                  <div>\n                    <b-form-group\n                      label=\"Search Filter\"\n                    >\n                      <b-form-input\n                        v-model=\"searchTerm\"\n                        placeholder=\"\"\n                        size=\"sm\"\n                      />\n                    </b-form-group>\n\n                    <b-form-group\n                      label=\"Records Limit\"\n                    >\n                      <b-form-input\n                        v-model=\"exportLimit\"\n                        type=\"text\"\n                        placeholder=\"\"\n                        size=\"sm\"\n                      />\n                    </b-form-group>\n\n                    <!-- button -->\n                    <b-row>\n                      <b-col cols=\"6\">\n                        <b-button\n                          v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n                          size=\"sm\"\n                          variant=\"danger\"\n                          class=\"mr-1\"\n                          @click=\"onClose\"\n                        >\n                          <feather-icon icon=\"XIcon\" />\n                        </b-button>\n                      </b-col>\n\n                      <b-col cols=\"6\">\n                        <b-button\n                          v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n                          size=\"sm\"\n                          variant=\"primary\"\n                          :href=\"'/api/purchaseCsv?searchTerm='+ searchTerm+' &amp;limit='+exportLimit\"\n                          target=\"_blank\"\n                        >\n                          <feather-icon icon=\"DownloadIcon\" />\n                        </b-button>\n                      </b-col>\n                    </b-row>\n                  </div>\n                </b-popover>\n\n              </div>\n\n            </b-input-group-prepend>\n\n            <b-input-group-prepend>\n\n              <b-button\n                v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n                variant=\"primary\"\n\n                :to=\"{ name: 'save-purchase'}\"\n\n                title=\"Create Expense\"\n              >\n                ADD+\n              </b-button>\n            </b-input-group-prepend>\n\n          </b-input-group>\n\n        </div>\n      </b-form-group>\n    </div>\n\n      <b-modal\n        hide-footer\n        id=\"modal-advancesearch\"\n        title=\"Advance Search\"\n        ref='searchModel'\n        size=\"lg\"\n        cancel-variant=\"outline-secondary\"\n      >\n\n        <b-form @submit.prevent>\n          <b-row>\n             <b-col md=\"6\">\n              <b-form-group\n                label=\"Expense Type\"\n                label-for=\"v-purchaseType\"\n              >\n                <v-select\n                  id=\"v-purchaseType\"\n                  v-model=\"formValues.purchaseType\"\n                  :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\n                  :options=\"purchaseTypes\"\n                  label=\"text\"\n                  :reduce=\"text => text.value\"\n                />\n              </b-form-group>\n            </b-col>\n\n                \n\n            <b-col md=\"6\">\n              <b-form-group\n                label=\"Amount\"\n                label-for=\"v-amount\"\n              >\n            <b-form-input v-model=\"formValues.amount\" type=\"number\" id=\"v-amount\" placeholder=\"Enter Amount\"></b-form-input>\n              </b-form-group>\n            </b-col>\n         \n            <b-col md=\"6\">\n        \n              <label for=\"v-from_date\">From Date</label>\n                  <b-input-group >\n\n                    <cleave\n                      id=\"from_date\"\n                      v-model=\"formValues.fromDate\"\n                      class=\"form-control\"\n                      :raw=\"false\"\n                      :options=\"options.date\"\n                      placeholder=\"YYYY-MM-DD\"\n                    />\n\n          \n                    <b-input-group-append>\n                      <b-form-datepicker\n                      v-model=\"formValues.fromDate\"\n                        show-decade-nav\n                        button-only\n                        right\n                        locale=\"en-US\"\n                        aria-controls=\"v-from_date\"\n                      />\n                    </b-input-group-append>\n\n                    \n                  \n                  </b-input-group>\n            </b-col>\n            <b-col md=\"6\">\n        \n              <label for=\"v-to_date\">To Date</label>\n                  <b-input-group >\n\n                    <cleave\n                      id=\"to_date\"\n                      v-model=\"formValues.toDate\"\n\n                      class=\"form-control\"\n                      :raw=\"false\"\n                      :options=\"options.date\"\n                      placeholder=\"YYYY-MM-DD\"\n                    />\n\n          \n                    <b-input-group-append>\n                      <b-form-datepicker\n                      v-model=\"formValues.toDate\"\n                        show-decade-nav\n                        button-only\n                        right\n                        locale=\"en-US\"\n                        aria-controls=\"v-to_date\"\n                      />\n                    </b-input-group-append>\n\n                    \n                  \n                  </b-input-group>\n            </b-col>\n            <b-col md=\"6\">\n                  <b-form-group\n                    label=\"Seller Type\"\n                    label-for=\"request_type\"\n\n                  >\n\n                    <v-select\n                      id=\"request_type\"\n\n                      v-model=\"formValues.seller_type\"\n                      :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\n                      :options=\"RequestType\"\n                      label=\"text\"\n                      :reduce=\"text => text.value\"\n                    />\n\n                  </b-form-group>\n                </b-col>\n                <b-col md=\"6\">\n              <b-form-group\n                label=\"Seller Name\"\n                label-for=\"v-seller_name\"\n              >\n            <b-form-input v-model=\"formValues.seller_name\" type=\"text\" id=\"v-seller_name\" placeholder=\"Enter Seller Name...\"></b-form-input>\n              </b-form-group>\n            </b-col>\n            <b-col cols=\"6\">\n            <div class=\"d-flex pt-1 my-2\">\n            <b-form-checkbox class=\"d-flex\" value=\"VAT\" v-model=\"formValues.vat_not_vat\" name=\"vat_not_vat\">\n              VAT\n            </b-form-checkbox>\n              <b-form-checkbox class=\"d-flex ml-2 pl-2\" value=\"NOT VAT\" v-model=\"formValues.vat_not_vat\" name=\"vat_not_vat\">\n              NOT VAT\n            </b-form-checkbox>\n            </div>\n      </b-col>\n              <b-col md=\"12\">\n\n                <b-button\n                  v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n                  type=\"submit\"\n                  variant=\"primary\"\n                  class=\"mr-1\"\n                  @click=\"page=1,searchTerm='',closeSearch(), getEmployees()\"\n                >\n\n                  <span  >GO</span>\n                </b-button>\n\n                <b-button\n                  v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n                  type=\"submit\"\n                  variant=\"outline-primary\"\n                  class=\"mr-1\"\n                  @click=\"resetSearch\"\n                >\n\n                  <span  >Reset</span>\n                </b-button>\n\n                <b-button\n                  v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n                  type=\"submit\"\n                  variant=\"outline-secondary\"\n                  class=\"mr-1\"\n                  @click=\"closeSearch\"\n                >\n\n                  <span  >Cancel</span>\n                </b-button>\n\n                \n              </b-col>\n          \n           </b-row>\n        </b-form>\n      </b-modal>\n\n    <b-table\n      :items=\"items\"\n      :fields=\"fields\"\n      responsive\n      class=\"mb-0 bg-white\"\n      :busy=\"isBusy\"\n    >\n      <template #cell(Options)=\"row\">\n          \n        <div>\n          <div class=\"d-flex align-items-center w-fit-content\">\n            <b-input-group>\n              <b-input-group-prepend>\n                <b-button\n                  size=\"sm\"\n                  v-ripple.400=\"'rgba(113, 102, 240, 0.15)'\"\n                  variant=\"outline-primary\"\n                  v-bind:class=\"row.detailsShowing ? 'active' : ''\"\n                  @click=\"row.toggleDetails\"\n                >\n                  <feather-icon\n                    icon=\"ChevronUpIcon\"\n                    v-if=\"row.detailsShowing\"\n                  />\n\n                  <feather-icon icon=\"ChevronDownIcon\" v-else />\n                </b-button>\n              </b-input-group-prepend>\n\n              <b-input-group-append v-if=\"$ability.can('edit', 'purchase_order')\">\n                <b-button\n                  size=\"sm\"\n                  :to=\"{  name: 'edit-purchase', params: { id: row.item.id } }\"\n                  v-ripple.400=\"'rgba(40, 199, 111, 0.15)'\"\n                  variant=\"outline-primary text-success\"\n                >\n                  <feather-icon icon=\"EditIcon\" />\n                </b-button>\n              </b-input-group-append>\n              <b-input-group-append\n                v-if=\"$ability.can('delete', 'purchase_order')\"\n              >\n                <b-button\n                  size=\"sm\"\n                  v-ripple.400=\"'rgba(40, 199, 111, 0.15)'\"\n                  variant=\"outline-primary text-danger\"\n                  @click=\"deletePurchase(row.item.id)\"\n                >\n                  <feather-icon icon=\"Trash2Icon\" />\n                </b-button>\n              </b-input-group-append>\n            </b-input-group>\n          </div>\n        </div>\n      </template>\n            <template #cell(date)=\"data\">\n\n            \n            {{ data.value | moment(\"DD/MM/YYYY\") }}\n\n      </template>\n      <template #cell(seller_type)=\"data\">\n\n            <b-badge\n            v-if=\"data.value\"\n              pill\n              :variant=\"request_type_variant(data.value)\"\n            >\n            {{ data.value }}\n            </b-badge>\n\n      </template>\n\n\n\n\n      <template #cell(net_total)=\"data\">\n\n        {{ Number( data.value).toLocaleString() }}\n      </template>\n\n\n\n      <template #cell(request_seller)=\"data\">\n\n        <span v-if=\"data.value\">{{ data.item.request_seller }},{{data.item.request_seller_id}}</span> \n      </template>\n      <!-- full detail on click -->\n      <template #row-details=\"row\">\n        \n    <div class=\"container\">\n        <b-row >\n\n          <b-col md=\"12\" class=\"mb-1\" v-if=\"row.item.purchaseOrder\">\n            <strong>Attachment : </strong>\n\n            <b-button\n              v-ripple.400=\"'rgba(113, 102, 240, 0.15)'\"\n              variant=\"outline-primary\"\n            >\n              <a\n                :href=\"row.item.purchaseOrder\"\n                target=\"_blank\"\n              >View file</a>\n            </b-button>\n\n          </b-col>\n\n\n\n          <b-col md=\"12\" class=\"mb-1\" v-if=\"row.item.purchaseType\">\n            <strong>Expense Type : </strong>\n            {{row.item.purchaseType}}\n          </b-col>\n\n          <b-col md=\"12\" class=\"mb-1\" v-if=\"row.item.subtotal\">\n            <strong>Sub Total : </strong>\n            {{ row.item.subtotal }}\n          </b-col>\n          <b-col md=\"12\" class=\"mb-1\" v-if=\"row.item.vat\">\n            <strong>VAT : </strong>\n            {{ row.item.vat }}\n          </b-col>\n          <b-col md=\"12\" class=\"mb-1\" v-if=\"row.item.net_total\">\n            <strong>Total : </strong>\n            {{ row.item.net_total }}\n          </b-col>\n          \n          <b-col md=\"12\" class=\"mb-1\" v-if=\"row.item.vat_not_vat\">\n            <strong>VAT/NOT VAT : </strong>\n            <!-- {{ row.item.vat_not_vat }} -->\n            <b-badge\n              pill\n              :variant=\"vat_not_vat__type_variant(row.item.vat_not_vat)\"\n            >\n            {{ row.item.vat_not_vat }}\n            </b-badge>\n          </b-col>\n          <b-col md=\"12\" class=\"mb-1 text-right\" v-if=\"row.item.created_by\">\n            <strong>Created By : </strong>\n            {{ row.item.created_by }}\n          </b-col>\n          <b-col md=\"12\" class=\"mb-1 text-right\" v-if=\"row.item.updated_by\">\n            <strong>Updated By : </strong>\n            {{ row.item.updated_by }}\n          </b-col>\n          \n\n        </b-row >\n    </div>\n\n        <b-card no-body>\n          <div>\n            <b-table\n              :items=\"row.item.resourceItems\"\n              striped\n              responsive\n              class=\"mb-0\"\n              :busy=\"isBusy\"\n              show-empty\n            >\n              <template #empty=\"scope\">\n                <h4>{{ scope.emptyText }}</h4>\n              </template>\n\n              <template #cell(rate)=\"data\">\n\n                {{ Number( data.value).toLocaleString() }}\n              </template>\n\n              <template #cell(total)=\"data\">\n\n                {{ Number( data.value).toLocaleString() }}\n              </template>\n            </b-table>\n          </div>\n        </b-card>\n      </template>\n\n\n\n\n\n      <template #table-busy>\n        <div class=\"text-center text-primary my-2\">\n          <b-spinner class=\"align-middle\" />\n          <strong>Loading...</strong>\n        </div>\n      </template>\n\n      <!-- <template #cell(status)=\"data\">\n          <b-badge :variant=\"status[1][data.value]\">\n            {{ status[0][data.value] }}\n          </b-badge>\n        </template> -->\n    </b-table>\n\n    <div class=\"d-flex justify-content-end\">\n      <b-pagination\n        v-model=\"page\"\n        :total-rows=\"count\"\n        :per-page=\"pageSize\"\n        pills\n        @change=\"handlePageChange\"\n      />\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport BCardCode from '@core/components/b-card-code/BCardCode.vue'\nimport axios from '@axios'\nimport vSelect from 'vue-select'\nimport {\n  BTable, BFormCheckbox, BButton, BCard, BRow, BCol, BAvatar, BBadge, BImg, BTabs, BTab, BCardText, BPagination, BFormGroup, BFormInput, BFormSelect, BDropdown, BDropdownItem, BInputGroup, BInputGroupAppend, BInputGroupPrepend, BFormDatepicker, BFormFile, BFormTextarea, BFormRadio, BForm, BFormCheckboxGroup, BFormRating, BListGroupItem, BListGroup, BModal, BPopover, BSpinner,\n} from 'bootstrap-vue'\n\nimport Ripple from 'vue-ripple-directive'\nimport Cleave from 'vue-cleave-component'\nimport 'cleave.js/dist/addons/cleave-phone.us'\nimport EnlargeableImage from '@diracleo/vue-enlargeable-image'\nimport pdf from 'vue-pdf'\n\nimport VuePdfApp from 'vue-pdf-app'\n\nimport 'vue-pdf-app/dist/icons/main.css'\n\nimport ToastificationContent from '@core/components/toastification/ToastificationContent.vue'\n\nexport default {\n  components: {\n    BCardCode,\n    BTable,\n    BButton,\n    BFormCheckbox,\n    BCard,\n    BRow,\n    BCol,\n    BBadge,\n    BAvatar,\n    BImg,\n    EnlargeableImage,\n    BTabs,\n    BTab,\n    BCardText,\n    BPagination,\n    BFormGroup,\n    BFormInput,\n    BFormSelect,\n    BDropdown,\n    BDropdownItem,\n    BInputGroup,\n    BInputGroupAppend,\n    BInputGroupPrepend,\n    BFormDatepicker,\n    BFormFile,\n    BFormTextarea,\n    BFormRadio,\n    BForm,\n    vSelect,\n    BFormCheckboxGroup,\n    BFormRating,\n    BListGroup,\n    BListGroupItem,\n    BModal,\n    pdf,\n    VuePdfApp,\n    BPopover,\n    BSpinner,\n    Cleave,\n  },\n  directives: {\n    Ripple,\n  },\n\n  errorCaptured() {\n    return false\n  },\n\n  data() {\n    return {\n      popoverShow: false,\n      exportLimit: '',\n      isBusy: true,\n      fields: [{ key: 'Options', thClass: 'customHead' }, {\n        key: 'id', label: 'ID', sortable: true, thClass: 'customHead',\n      }, { key: 'date',label: 'Date', sortable: true, thClass: 'customHead' },\n      { key: 'seller_type',label: 'Seller Type',  sortable: true, thClass: 'customHead' }, \n       {\n        key: 'request_seller', label: 'Seller', sortable: true, thClass: 'customHead',\n      }, {\n        key: 'net_total', label: 'Amount', sortable: true, thClass: 'customHead',\n      }],\n      items: [\n      ],\n      emp_detail: [\n        { age: 40, first_name: 'Dickerson', last_name: 'Macdonald' },\n      ],\n      /* eslint-disable global-require */\n      status: [{\n        1: 'Current', 2: 'Professional', 3: 'Rejected', 4: 'Resigned', 5: 'Applied',\n      },\n      {\n        1: 'light-primary', 2: 'light-success', 3: 'light-danger', 4: 'light-warning', 5: 'light-info',\n      }],\n\n      searchTerm: '',\n      pageSize: 10,\n      page: 1,\n      count: 0,\n      formValues: {\n        purchaseType:'',\n        amount:'',\n        fromDate:'',\n        toDate:'',\n        seller_type:null,\n        seller_name:null,\n        vat_not_vat:null,\n\n      },\n               RequestType: [\n        { value: 'Accommodation', text: 'Accommodation' },\n        // { value: 'Client', text: 'Client' },\n        // { value: 'Employee', text: 'Employee' },\n        { value: 'Supplier', text: 'Supplier' },\n        { value: 'Vendor', text: 'Vendor' },\n\n      ],\n\n        purchaseTypes: [\n        { value: 'Product', text: 'Product' },\n        { value: 'Service', text: 'Service' },\n      ],\n      options: {\n        penColor: \"#000\",\n        backgroundColor: '#fff',\n        phone: {\n          prefix: '9665',\n          blocks: [12],\n          uppercase: true,\n          noImmediatePrefix: true\n        },\n        date: {\n          date: true,\n          delimiter: '-',\n          datePattern: ['Y', 'm', 'd'],\n        },\n        account_number: {\n          blocks: [15],\n          uppercase: true,\n        },\n        iqama_number: {\n          blocks: [10],\n          uppercase: true,\n        },\n        cr_number: {\n          blocks: [10],\n          uppercase: true,\n        },\n        iban: {\n          prefix: 'SA',\n          blocks: [24],\n          uppercase: true,\n          noImmediatePrefix: true\n        },\n      },\n\n    }\n  },\n\n  mounted() {\n    this.getEmployees()\n  },\n  methods: {\n      request_type_variant(ownerType){\n\n        if (ownerType == 'Accommodation') \n          {\n            return 'warning';\n          } \n           else if(ownerType == 'Supplier') \n          {\n            return 'info';\n          }\n          else if(ownerType == 'Vendor') \n          {\n            return 'secondary';\n          }\n        else\n          {\n            return 'primary';\n          }\n      },\n      vat_not_vat__type_variant(ownerType){\n\n          if (ownerType == 'VAT') \n          {\n            return 'success';\n          } \n           else if(ownerType == 'NOT VAT') \n          {\n            return 'danger';\n          }\n          else\n          {\n            return 'primary';\n          }\n      },\n    onClose() {\n      this.popoverShow = false\n    },\n\n    closeSearch() {\n        this.$refs['searchModel'].hide()\n      },\n      resetSearch() {\n        Object.entries(this.formValues).forEach(([key, value]) => { {\n              this.formValues[key] = '';\n            }\n          \n        });\n\n        console.log(this.formValues);\n      },\n    deletePurchase(id) {\n      this.$swal({\n        title: 'Are you sure?',\n        text: \"You won't be able to revert this!\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, delete it!',\n        customClass: {\n          confirmButton: 'btn btn-danger',\n          cancelButton: 'btn btn-outline-danger ml-1',\n        },\n        buttonsStyling: false,\n      }).then(result => {\n        if (result.value) {\n          axios.get('/deletePurchase', {\n            params: {\n              id,\n            },\n          }).then(response => {\n            if (response.data.hasOwnProperty('success')) {\n              if (response.data.success === true) {\n                this.getEmployees()\n                this.$toast({\n                  component: ToastificationContent,\n                  position: 'top-right',\n                  props: {\n                    title: 'Purchase Deleted',\n                    icon: 'EditIcon',\n                    variant: 'success',\n                  },\n                })\n                console.log('Purchase deleted')\n              } else {\n                this.$toast({\n                  component: ToastificationContent,\n                  position: 'top-right',\n                  props: {\n                    title: 'Error',\n                    icon: 'AlertCircleIcon',\n                    variant: 'danger',\n                    text: 'Something went wrong, try again later',\n                  },\n                })\n              }\n            } else {\n              this.$toast({\n                component: ToastificationContent,\n                position: 'top-right',\n                props: {\n                  title: 'Error',\n                  icon: 'AlertCircleIcon',\n                  variant: 'danger',\n                  text: 'Something went wrong, try again later',\n                },\n              })\n            }\n          }).catch(error => {\n            console.error(error)\n          })\n        }\n      })\n    },\n\n    getEmployees() {\n      this.isBusy = true\n      axios.get('/getPurchaseList', {\n        params: {\n          searchTerm: this.searchTerm,\n          page_no: this.page,\n          advanceSearch:this.formValues,\n\n        },\n      })\n\n        .then(response => {\n          console.log('response', response.data.data)\n          this.items = response.data.data\n          this.count = response.data.totalRows\n          this.isBusy = false\n\n          // TODO\n        }).catch(error => {\n          console.error(error)\n        })\n    },\n\n    handlePageChange(value) {\n      this.page = value\n      this.isBusy = true\n      this.getEmployees()\n    },\n\n    searchTimeOut() {\n      let timeout = null\n      clearTimeout(timeout)\n      // Make a new timeout set to go off in 800ms\n      timeout = setTimeout(() => {\n        this.page = 1\n        this.getEmployees()\n      }, 800)\n    },\n\n  },\n}\n</script>\n\n<style lang=\"css\" >\n\n.enlargeable-image .full  {\n  z-index:9999 !important;\n\n  background-color: rgba(0,0,0,0.5) !important;\n}\n\n.customHead{\n\n  background-color: #06608f !important;\n  color:#fff;\n}\n\n</style>\n"]}]}