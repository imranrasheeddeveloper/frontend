{"remainingRequest":"/Users/imranrasheed/Desktop/GulflamarERPSystem/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/imranrasheed/Desktop/GulflamarERPSystem/frontend/src/views/table/bs-table/ResourceCenter/allocateResourceEditView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/imranrasheed/Desktop/GulflamarERPSystem/frontend/src/views/table/bs-table/ResourceCenter/allocateResourceEditView.vue","mtime":1659630398000},{"path":"/Users/imranrasheed/Desktop/GulflamarERPSystem/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1658911406000},{"path":"/Users/imranrasheed/Desktop/GulflamarERPSystem/frontend/node_modules/babel-loader/lib/index.js","mtime":1658911406000},{"path":"/Users/imranrasheed/Desktop/GulflamarERPSystem/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1658911406000},{"path":"/Users/imranrasheed/Desktop/GulflamarERPSystem/frontend/node_modules/vue-loader/lib/index.js","mtime":1658911432000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgQlJvdywgQkNvbCwgQkZvcm1Hcm91cCwgQkZvcm1JbnB1dCwgQkZvcm1DaGVja2JveCwgQkZvcm0sIEJCdXR0b24sIEJGb3JtRGF0ZXBpY2tlciwgQkNhcmQsIEJTcGlubmVyLCBCRm9ybUZpbGUsIEJGb3JtVGV4dGFyZWEsIEJJbnB1dEdyb3VwQXBwZW5kLCBCSW5wdXRHcm91cCwgQkltZywKfSBmcm9tICdib290c3RyYXAtdnVlJwppbXBvcnQgUmlwcGxlIGZyb20gJ3Z1ZS1yaXBwbGUtZGlyZWN0aXZlJwppbXBvcnQgdlNlbGVjdCBmcm9tICd2dWUtc2VsZWN0JwppbXBvcnQgeyBWdWVBdXRvc3VnZ2VzdCB9IGZyb20gJ3Z1ZS1hdXRvc3VnZ2VzdCcKaW1wb3J0IGF4aW9zIGZyb20gJ0BheGlvcycKaW1wb3J0IHsgaGVpZ2h0VHJhbnNpdGlvbiB9IGZyb20gJ0Bjb3JlL21peGlucy91aS90cmFuc2l0aW9uJwppbXBvcnQgVG9hc3RpZmljYXRpb25Db250ZW50IGZyb20gJ0Bjb3JlL2NvbXBvbmVudHMvdG9hc3RpZmljYXRpb24vVG9hc3RpZmljYXRpb25Db250ZW50LnZ1ZScKCmltcG9ydCBDbGVhdmUgZnJvbSAndnVlLWNsZWF2ZS1jb21wb25lbnQnCmltcG9ydCAnY2xlYXZlLmpzL2Rpc3QvYWRkb25zL2NsZWF2ZS1waG9uZS51cycKCmltcG9ydCBFbmxhcmdlYWJsZUltYWdlIGZyb20gJ0BkaXJhY2xlby92dWUtZW5sYXJnZWFibGUtaW1hZ2UnCgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQlJvdywKICAgIEJDb2wsCiAgICBCRm9ybUdyb3VwLAogICAgQkZvcm1JbnB1dCwKICAgIEJGb3JtQ2hlY2tib3gsCiAgICBCRm9ybSwKICAgIEJCdXR0b24sCiAgICBCRm9ybURhdGVwaWNrZXIsCiAgICB2U2VsZWN0LAogICAgVnVlQXV0b3N1Z2dlc3QsCiAgICBCQ2FyZCwKICAgIEJTcGlubmVyLAogICAgQkZvcm1GaWxlLAogICAgQkZvcm1UZXh0YXJlYSwKICAgIEJJbnB1dEdyb3VwQXBwZW5kLAogICAgQklucHV0R3JvdXAsCiAgICBDbGVhdmUsCiAgICBCSW1nLAogICAgRW5sYXJnZWFibGVJbWFnZSwKICB9LAogIGRpcmVjdGl2ZXM6IHsKICAgIFJpcHBsZSwKICB9LAoKICBtaXhpbnM6IFtoZWlnaHRUcmFuc2l0aW9uXSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzU3VibWl0dGluZzogZmFsc2UsCiAgICAgIG9wdGlvbnM6IHsKICAgICAgICBwZW5Db2xvcjogJyMwMDAnLAogICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmYnLAogICAgICAgIHBob25lOiB7CiAgICAgICAgICBibG9ja3M6IFsxMl0sCiAgICAgICAgICB1cHBlcmNhc2U6IHRydWUsCiAgICAgICAgfSwKICAgICAgICBkYXRlOiB7CiAgICAgICAgICBkYXRlOiB0cnVlLAogICAgICAgICAgZGVsaW1pdGVyOiAnLScsCiAgICAgICAgICBkYXRlUGF0dGVybjogWydZJywgJ20nLCAnZCddLAogICAgICAgIH0sCiAgICAgICAgYWNjb3VudF9udW1iZXI6IHsKICAgICAgICAgIGJsb2NrczogWzE1XSwKICAgICAgICAgIHVwcGVyY2FzZTogdHJ1ZSwKICAgICAgICB9LAogICAgICAgIGlxYW1hX251bWJlcjogewogICAgICAgICAgYmxvY2tzOiBbMTBdLAogICAgICAgICAgdXBwZXJjYXNlOiB0cnVlLAogICAgICAgIH0sCiAgICAgICAgY3JfbnVtYmVyOiB7CiAgICAgICAgICBibG9ja3M6IFsxMF0sCiAgICAgICAgICB1cHBlcmNhc2U6IHRydWUsCiAgICAgICAgfSwKICAgICAgICBpYmFuOiB7CiAgICAgICAgICBwcmVmaXg6ICdTQScsCiAgICAgICAgICBibG9ja3M6IFsyNF0sCiAgICAgICAgICB1cHBlcmNhc2U6IHRydWUsCiAgICAgICAgICBub0ltbWVkaWF0ZVByZWZpeDogdHJ1ZSwKICAgICAgICB9LAogICAgICB9LAoKICAgICAgcmVzb3VyY2VUeXBlczogWwogICAgICAgIHsgdmFsdWU6ICdFbXBsb3llZScsIHRleHQ6ICdFbXBsb3llZScgfSwKICAgICAgICB7IHZhbHVlOiAnUHJvamVjdCcsIHRleHQ6ICdQcm9qZWN0JyB9LAogICAgICAgIHsgdmFsdWU6ICdBY2NvbW1vZGF0aW9uJywgdGV4dDogJ0FjY29tbW9kYXRpb24nIH0sCiAgICAgIF0sCgogICAgICByZXNvdXJjZVR5cGU6IG51bGwsCiAgICAgIGZpbHRlcmVkT3B0aW9uczogW10sCiAgICAgIGZpbGxlcmRMb2NhdGlvbnM6IFtdLAogICAgICByZXNvdXJjZU93bmVyOiAnJywKICAgICAgYWxsb2NhdGlvbkRhdGU6ICcnLAogICAgICBhdHRhY2htZW50RmlsZTogbnVsbCwKICAgICAgYXR0YWNobWVudDogJycsCiAgICAgIHNpZ25hdHVyZTogJycsCiAgICAgIHJlc291cmNlT3duZXJMb2NhdGlvbjonJywKICAgICAgbm90ZXM6ICcnLAogICAgICB1aV9hdHRhY2htZW50OiAnJywKCiAgICAgIHJlc291cmNlSXRlbXM6IFtdLAogICAgICBpdGVtczogW3t9XSwKICAgICAgbmV4dFRvZG9JZDogMiwKICAgICAgb2xkT3duZXI6ICcnLAogICAgICBsb2NhdGlvbkZpZWxkOmZhbHNlLAogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIAogICAgdGhpcy5pbml0VHJIZWlnaHQoKQogICAgdGhpcy5nZXRSZXNvdXJjZURldGFpbCgpCiAgfSwKICBjcmVhdGVkKCkgewogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuaW5pdFRySGVpZ2h0KQogIH0sCiAgZGVzdHJveWVkKCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuaW5pdFRySGVpZ2h0KQogIH0sCiAgd2F0Y2g6IHsKICByZXNvdXJjZVR5cGU6IGZ1bmN0aW9uICgpIHsgLy9nZXRSZXNvdXJjZUl0ZW1zKCkgZnVuY3Rpb24gY2FsbGVkIG9uY2hhbmdlIG9mIHJlc291cmNlVHlwZSAKICAgIHRoaXMuZ2V0UmVzb3VyY2VJdGVtcygpOwogIH0sCiAgfSwKICBtZXRob2RzOiB7Cgphc3NpZ25Pd25lckZpZWxkKGl0ZW0pIHsKICAgIGlmIChpdGVtKSB7CiAgICAgIHRoaXMucmVzb3VyY2VPd25lciA9IGl0ZW0uaXRlbS5pZAogICAgICB0aGlzLm9uTG9jYXRpb25JbnB1dENoYW5nZSh0aGlzLnJlc291cmNlT3duZXIpCiAgICAgIHRoaXMuY2xpZW50X2NvZGUgPSB0aGlzLnJlc291cmNlT3duZXIKICAgICAgY29uc29sZS5sb2codGhpcy5jbGllbnRfY29kZSwgJ3Nob3Bjb2RlJykKICAgIH0KICB9LAogICAgcmVtb3ZlSW1hZ2UoaW1hZ2VDb2x1bW4pIHsKICAgICAgdGhpcy4kc3dhbCh7CiAgICAgICAgdGl0bGU6ICdBcmUgeW91IHN1cmU/JywKICAgICAgICB0ZXh0OiAiWW91IHdvbid0IGJlIGFibGUgdG8gcmV2ZXJ0IHRoaXMhIiwKICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ1llcywgZGVsZXRlIGl0IScsCiAgICAgICAgY3VzdG9tQ2xhc3M6IHsKICAgICAgICAgIGNvbmZpcm1CdXR0b246ICdidG4gYnRuLWRhbmdlcicsCiAgICAgICAgICBjYW5jZWxCdXR0b246ICdidG4gYnRuLW91dGxpbmUtZGFuZ2VyIG1sLTEnLAogICAgICAgIH0sCiAgICAgICAgYnV0dG9uc1N0eWxpbmc6IGZhbHNlLAogICAgICB9KS50aGVuKHJlc3VsdCA9PiB7CiAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgYXhpb3MucG9zdCgnL2RlbGV0ZUltYWdlJywgewogICAgICAgICAgICB0YWJsZU5hbWU6ICdyZXNvdXJjZV9hbGxvY2F0aW9uJywKICAgICAgICAgICAgdW5pcXVlQ29sdW1uOiAnaWQnLAogICAgICAgICAgICB1bmlxdWVWYWx1ZTogdGhpcy4kcm91dGUucGFyYW1zLmlkLAogICAgICAgICAgICBpbWFnZUNvbHVtbiwKICAgICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5oYXNPd25Qcm9wZXJ0eSgnc3VjY2VzcycpKSB7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcyA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgdGhpcy5nZXRSZXNvdXJjZURldGFpbCgpCiAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdCh7CiAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogVG9hc3RpZmljYXRpb25Db250ZW50LAogICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcC1yaWdodCcsCiAgICAgICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZSwKICAgICAgICAgICAgICAgICAgICBpY29uOiAnRWRpdEljb24nLAogICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0KHsKICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiBUb2FzdGlmaWNhdGlvbkNvbnRlbnQsCiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLXJpZ2h0JywKICAgICAgICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0Vycm9yJywKICAgICAgICAgICAgICAgICAgICBpY29uOiAnQWxlcnRDaXJjbGVJY29uJywKICAgICAgICAgICAgICAgICAgICB2YXJpYW50OiAnZGFuZ2VyJywKICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnU29tZXRoaW5nIHdlbnQgd3JvbmcsIHRyeSBhZ2FpbiBsYXRlcicsCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLiR0b2FzdCh7CiAgICAgICAgICAgICAgICBjb21wb25lbnQ6IFRvYXN0aWZpY2F0aW9uQ29udGVudCwKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLXJpZ2h0JywKICAgICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRXJyb3InLAogICAgICAgICAgICAgICAgICBpY29uOiAnQWxlcnRDaXJjbGVJY29uJywKICAgICAgICAgICAgICAgICAgdmFyaWFudDogJ2RhbmdlcicsCiAgICAgICAgICAgICAgICAgIHRleHQ6ICdTb21ldGhpbmcgd2VudCB3cm9uZywgdHJ5IGFnYWluIGxhdGVyJywKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKQogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAoKCiAgICAgIG9uTG9jYXRpb25JbnB1dENoYW5nZSh0ZXh0KSB7CiAgICBpZiAodGV4dCA9PT0gJycgfHwgdGV4dCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybgogICAgfQogIAogICAgYXhpb3MuZ2V0KCcvZ2V0Q2xpZW50TG9jYXRpb25zJywgewogICAgICBwYXJhbXM6IHsKICAgICAgICBjbGllbnRfY29kZTogdGV4dCwKICAgICAgfSwKICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICBpZiAocmVzcG9uc2UuZGF0YS5oYXNPd25Qcm9wZXJ0eSgnc3VjY2VzcycpKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcyA9PT0gdHJ1ZSkgewogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS5kYXRhLmRhdGEgLCAnbG9jYXRpb25fbmFtZSBmYXJheicpCiAgICAgICAgICB0aGlzLmZpbGxlcmRMb2NhdGlvbnMgPSByZXNwb25zZS5kYXRhLmRhdGEKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kdG9hc3QoewogICAgICAgICAgICBjb21wb25lbnQ6IFRvYXN0aWZpY2F0aW9uQ29udGVudCwKICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnLAogICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgIHRpdGxlOiAnRXJyb3InLAogICAgICAgICAgICAgIGljb246ICdBbGVydENpcmNsZUljb24nLAogICAgICAgICAgICAgIHZhcmlhbnQ6ICdkYW5nZXInLAogICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHRvYXN0KHsKICAgICAgICAgIGNvbXBvbmVudDogVG9hc3RpZmljYXRpb25Db250ZW50LAogICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnLAogICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgdGl0bGU6ICdFcnJvcicsCiAgICAgICAgICAgIGljb246ICdBbGVydENpcmNsZUljb24nLAogICAgICAgICAgICB2YXJpYW50OiAnZGFuZ2VyJywKICAgICAgICAgICAgdGV4dDogJ1NvbWV0aGluZyB3ZW50IHdyb25nLCB0cnkgYWdhaW4gbGF0ZXInLAogICAgICAgICAgfSwKICAgICAgICB9KQogICAgICB9CiAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpCiAgICB9KQogIH0sCgogICAgaXNQZGYodXJsKSB7CiAgICAgIGlmICh1cmwuc3Vic3RyKHVybC5sYXN0SW5kZXhPZignLicpICsgMSkgPT0gJ3BkZicpIHsKICAgICAgICByZXR1cm4gdHJ1ZQogICAgICB9CgogICAgICByZXR1cm4gZmFsc2UKICAgIH0sCiAgICBjbGVhckNhbnZhcygpIHsKICAgICAgdGhpcy4kcmVmcy5zaWduYXR1cmVQYWQuY2xlYXJTaWduYXR1cmUoKQogICAgfSwKCiAgICBnZXRSZXNvdXJjZURldGFpbCgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy4kcm91dGUucGFyYW1zLmlkKQoKICAgICAgY29uc3QgY29uZmlnID0gewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdjb250ZW50LXR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScsCgogICAgICAgIH0sCiAgICAgIH0KCiAgICAgIGF4aW9zLmdldCgnL2dldEFsbG9jYXRlZFJlc291cmNlRGV0YWlsJywgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgaWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwKICAgICAgICB9LAogICAgICB9LCBjb25maWcpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmhhc093blByb3BlcnR5KCdzdWNjZXNzJykpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MgPT09IHRydWUpIHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSkKCiAgICAgICAgICAgIHRoaXMucmVzb3VyY2VUeXBlID0gcmVzcG9uc2UuZGF0YS5kYXRhLm93bmVyVHlwZQogICAgICAgICAgICB0aGlzLnJlc291cmNlT3duZXIgPSByZXNwb25zZS5kYXRhLmRhdGEucmVzb3VyY2VPd25lcklkCiAgICAgICAgICAgIHRoaXMuYWxsb2NhdGlvbkRhdGUgPSByZXNwb25zZS5kYXRhLmRhdGEuZGF0ZQogICAgICAgICAgICB0aGlzLm9sZE93bmVyID0gcmVzcG9uc2UuZGF0YS5kYXRhLnJlc291cmNlT3duZXIKICAgICAgICAgICAgdGhpcy5pdGVtcyA9IHJlc3BvbnNlLmRhdGEuZGF0YS5yZXNvdXJjZUl0ZW1zCiAgICAgICAgICAgIHRoaXMuc2lnbmF0dXJlID0gcmVzcG9uc2UuZGF0YS5kYXRhLnNpZ25hdHVyZQogICAgICAgICAgICB0aGlzLm5vdGVzID0gcmVzcG9uc2UuZGF0YS5kYXRhLm5vdGVzCiAgICAgICAgICAgIHRoaXMudWlfYXR0YWNobWVudCA9IHJlc3BvbnNlLmRhdGEuZGF0YS5hdHRhY2htZW50CiAgICAgICAgICAgIHRoaXMucmVzb3VyY2VPd25lckxvY2F0aW9uID0gcmVzcG9uc2UuZGF0YS5kYXRhLnJlc291cmNlX293bmVyX2xvY2F0aW9uCiAgICAgICAgICAgaWYocmVzcG9uc2UuZGF0YS5kYXRhLm93bmVyVHlwZSA9PSAnUHJvamVjdCcpewogICAgICAgICAgICAgdGhpcy5vbkxvY2F0aW9uSW5wdXRDaGFuZ2UocmVzcG9uc2UuZGF0YS5kYXRhLnJlc291cmNlT3duZXJJZCkKICAgICAgICAgICAgIHRoaXMubG9jYXRpb25GaWVsZCA9IHRydWU7CiAgICAgICAgICAgfQogICAgICAgICAgICAvLyB0aGlzLiRyZWZzLnNpZ25hdHVyZVBhZC5mcm9tRGF0YVVSTChyZXNwb25zZS5kYXRhLmRhdGEuc2lnbmF0dXJlKQogICAgICAgICAgICBjb25zb2xlLmxvZygnbGVuZ3RoIG9mIGl0ZW1zID0nLCB0aGlzLml0ZW1zLmxlbmd0aCkKICAgICAgICAgICAgY29uc29sZS5sb2coJ2xlbmd0aCBvZiByZWZzID0nLCB0aGlzLiRyZWZzLnJvd1swXS5vZmZzZXRIZWlnaHQpCiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgICB0aGlzLnRyQWRkSGVpZ2h0KHRoaXMuJHJlZnMucm93WzBdLm9mZnNldEhlaWdodCAqIHRoaXMuaXRlbXMubGVuZ3RoKQogICAgICAgICAgICB9KQogICAgICAgICAgICBjb25zb2xlLmxvZygnZG9uZScpCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiR0b2FzdCh7CiAgICAgICAgICAgICAgY29tcG9uZW50OiBUb2FzdGlmaWNhdGlvbkNvbnRlbnQsCiAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnLAogICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICB0aXRsZTogJ0Vycm9yJywKICAgICAgICAgICAgICAgIGljb246ICdBbGVydENpcmNsZUljb24nLAogICAgICAgICAgICAgICAgdmFyaWFudDogJ2RhbmdlcicsCiAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kdG9hc3QoewogICAgICAgICAgICBjb21wb25lbnQ6IFRvYXN0aWZpY2F0aW9uQ29udGVudCwKICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnLAogICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgIHRpdGxlOiAnRXJyb3InLAogICAgICAgICAgICAgIGljb246ICdBbGVydENpcmNsZUljb24nLAogICAgICAgICAgICAgIHZhcmlhbnQ6ICdkYW5nZXInLAogICAgICAgICAgICAgIHRleHQ6ICdTb21ldGhpbmcgd2VudCB3cm9uZywgdHJ5IGFnYWluIGxhdGVyJywKICAgICAgICAgICAgfSwKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcikKICAgICAgfSkKICAgIH0sCgogICAgc3VibWl0UmVzb3VyY2UoKSB7CiAgICAgIHRoaXMuaXNTdWJtaXR0aW5nID0gdHJ1ZQoKICAgICAgLy8gY29uc3QgeyBpc0VtcHR5LCBkYXRhIH0gPSB0aGlzLiRyZWZzLnNpZ25hdHVyZVBhZC5zYXZlU2lnbmF0dXJlKCkKICAgICAgLy8gY29uc3Qgc2lnbiA9IGRhdGEKCiAgICAgIC8vIGlmIChpc0VtcHR5KSB7CiAgICAgIC8vICAgdGhpcy4kdG9hc3QoewogICAgICAvLyAgICAgY29tcG9uZW50OiBUb2FzdGlmaWNhdGlvbkNvbnRlbnQsCiAgICAgIC8vICAgICBwb3NpdGlvbjogJ3RvcC1yaWdodCcsCiAgICAgIC8vICAgICBwcm9wczogewogICAgICAvLyAgICAgICB0aXRsZTogJ1NpZ25hdHVyZSBtaXNzaW5nJywKICAgICAgLy8gICAgICAgaWNvbjogJ0FsZXJ0Q2lyY2xlSWNvbicsCiAgICAgIC8vICAgICAgIHZhcmlhbnQ6ICdkYW5nZXInLAoKICAgICAgLy8gICAgIH0sCiAgICAgIC8vICAgfSkKCiAgICAgICAgLy8gdGhpcy5pc1N1Ym1pdHRpbmcgPSBmYWxzZQogICAgICAvLyB9IGVsc2UgewogICAgICAgIC8vIHRoaXMuc2lnbmF0dXJlID0gc2lnbgogICAgICAgIGlmICh0aGlzLmF0dGFjaG1lbnRGaWxlICE9IG51bGwpIHsKICAgICAgICAgIHRoaXMudXBsb2FkSW1nKHRoaXMuYXR0YWNobWVudEZpbGUpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGF4aW9zLnBvc3QoJy91cGRhdGVBbGxvY2F0ZWRSZXNvdXJjZXMnLCB7CiAgICAgICAgICAgIHJlc291cmNlT3duZXJUeXBlOiB0aGlzLnJlc291cmNlVHlwZSwKICAgICAgICAgICAgcmVzb3VyY2VPd25lcklkOiB0aGlzLnJlc291cmNlT3duZXIsCiAgICAgICAgICAgIGFsbG9jYXRpb25EYXRlOiB0aGlzLmFsbG9jYXRpb25EYXRlLAogICAgICAgICAgICByZXNvdXJjZV9vd25lcl9sb2NhdGlvbjogdGhpcy5yZXNvdXJjZU93bmVyTG9jYXRpb24sCiAgICAgICAgICAgIHJlc291cmNlSXRlbXM6IHRoaXMuaXRlbXMsCiAgICAgICAgICAgIHNpZ25hdHVyZTogdGhpcy5zaWduYXR1cmUsCiAgICAgICAgICAgIG5vdGVzOiB0aGlzLm5vdGVzLAogICAgICAgICAgICBpZDogdGhpcy4kcm91dGUucGFyYW1zLmlkLAogICAgICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmhhc093blByb3BlcnR5KCdzdWNjZXNzJykpIHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLmRhdGEpCgogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoJy9hbGxvY2F0ZWRfcmVzb3VyY2VzJykKICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0KHsKICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogVG9hc3RpZmljYXRpb25Db250ZW50LAogICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnLAogICAgICAgICAgICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlLmRhdGEubWVzc2FnZSwKICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ0VkaXRJY29uJywKICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudDogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmlzU3VibWl0dGluZyA9IGZhbHNlCgogICAgICAgICAgICAgICAgdGhpcy4kdG9hc3QoewogICAgICAgICAgICAgICAgICBjb21wb25lbnQ6IFRvYXN0aWZpY2F0aW9uQ29udGVudCwKICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnLAogICAgICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ0FsZXJ0Q2lyY2xlSWNvbicsCiAgICAgICAgICAgICAgICAgICAgdmFyaWFudDogJ2RhbmdlcicsCgogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5pc1N1Ym1pdHRpbmcgPSBmYWxzZQoKICAgICAgICAgICAgICB0aGlzLiR0b2FzdCh7CiAgICAgICAgICAgICAgICBjb21wb25lbnQ6IFRvYXN0aWZpY2F0aW9uQ29udGVudCwKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLXJpZ2h0JywKICAgICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRXJyb3InLAogICAgICAgICAgICAgICAgICBpY29uOiAnQWxlcnRDaXJjbGVJY29uJywKICAgICAgICAgICAgICAgICAgdmFyaWFudDogJ2RhbmdlcicsCiAgICAgICAgICAgICAgICAgIHRleHQ6ICdTb21ldGhpbmcgd2VudCB3cm9uZywgdHJ5IGFnYWluIGxhdGVyJywKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKQogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIC8vIH0KICAgIH0sCgogICAgdXBsb2FkSW1nKGltZykgewogICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnaW1hZ2UnLCBpbWcpCgogICAgICBheGlvcy5wb3N0KCcvaW1nVXBsb2FkJywKICAgICAgICBmb3JtRGF0YSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpCiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuaGFzT3duUHJvcGVydHkoJ3N1Y2Nlc3MnKSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuc3VjY2VzcyA9PT0gdHJ1ZSkgewogICAgICAgICAgICAvKiB0aGlzLiR0b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiBUb2FzdGlmaWNhdGlvbkNvbnRlbnQsCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnLAogICAgICAgICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogYERvbmVgLAogICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ0VkaXRJY29uJywKICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHJlc3BvbnNlLmRhdGEubWVzc2FnZSwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB9KSAqLwoKICAgICAgICAgICAgY29uc29sZS5sb2coJ2ltZ1VwbG9hZFJlc3BvbmNlJywgcmVzcG9uc2UuZGF0YSkKICAgICAgICAgICAgdGhpcy5hdHRhY2htZW50ID0gcmVzcG9uc2UuZGF0YS5kYXRhLmltYWdlCiAgICAgICAgICAgIC8vIGNyZWF0ZSBwdXJjaGFzZSBzdGFydCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgICAgICAgICBheGlvcy5wb3N0KCcvdXBkYXRlQWxsb2NhdGVkUmVzb3VyY2VzJywgewogICAgICAgICAgICAgIHJlc291cmNlT3duZXJUeXBlOiB0aGlzLnJlc291cmNlVHlwZSwKICAgICAgICAgICAgICByZXNvdXJjZU93bmVySWQ6IHRoaXMucmVzb3VyY2VPd25lciwKICAgICAgICAgICAgICBhbGxvY2F0aW9uRGF0ZTogdGhpcy5hbGxvY2F0aW9uRGF0ZSwKICAgICAgICAgICAgICByZXNvdXJjZV9vd25lcl9sb2NhdGlvbjogdGhpcy5yZXNvdXJjZU93bmVyTG9jYXRpb24sCiAgICAgICAgICAgICAgYXR0YWNobWVudDogdGhpcy5hdHRhY2htZW50LAogICAgICAgICAgICAgIHJlc291cmNlSXRlbXM6IHRoaXMuaXRlbXMsCiAgICAgICAgICAgICAgbm90ZXM6IHRoaXMubm90ZXMsCiAgICAgICAgICAgICAgc2lnbmF0dXJlOiB0aGlzLnNpZ25hdHVyZSwKICAgICAgICAgICAgICBpZDogdGhpcy4kcm91dGUucGFyYW1zLmlkLAogICAgICAgICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5oYXNPd25Qcm9wZXJ0eSgnc3VjY2VzcycpKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEuZGF0YSkKCiAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCcvYWxsb2NhdGVkX3Jlc291cmNlcycpCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgdGhpcy4kdG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQ6IFRvYXN0aWZpY2F0aW9uQ29udGVudCwKICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnLAogICAgICAgICAgICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ0VkaXRJY29uJywKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50OiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICB0aGlzLmlzU3VibWl0dGluZyA9IGZhbHNlCgogICAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiBUb2FzdGlmaWNhdGlvbkNvbnRlbnQsCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnLAogICAgICAgICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogYCEgJHtyZXNwb25zZS5kYXRhLm1lc3NhZ2V9YCwKICAgICAgICAgICAgICAgICAgICAgIGljb246ICdBbGVydENpcmNsZUljb24nLAogICAgICAgICAgICAgICAgICAgICAgdmFyaWFudDogJ2RhbmdlcicsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5pc1N1Ym1pdHRpbmcgPSBmYWxzZQoKICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0KHsKICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiBUb2FzdGlmaWNhdGlvbkNvbnRlbnQsCiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLXJpZ2h0JywKICAgICAgICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0Vycm9yJywKICAgICAgICAgICAgICAgICAgICBpY29uOiAnQWxlcnRDaXJjbGVJY29uJywKICAgICAgICAgICAgICAgICAgICB2YXJpYW50OiAnZGFuZ2VyJywKICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnU29tZXRoaW5nIHdlbnQgd3JvbmcsIHRyeSBhZ2FpbiBsYXRlcicsCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC8vIGNyZWF0ZSBwdXJjaGFzZSBlbmQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5pc1N1Ym1pdHRpbmcgPSBmYWxzZQoKICAgICAgICAgICAgdGhpcy4kdG9hc3QoewogICAgICAgICAgICAgIGNvbXBvbmVudDogVG9hc3RpZmljYXRpb25Db250ZW50LAogICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLXJpZ2h0JywKICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgdGl0bGU6ICdFcnJvcicsCiAgICAgICAgICAgICAgICBpY29uOiAnQWxlcnRDaXJjbGVJY29uJywKICAgICAgICAgICAgICAgIHZhcmlhbnQ6ICdkYW5nZXInLAogICAgICAgICAgICAgICAgdGV4dDogcmVzcG9uc2UuZGF0YS5tZXNzYWdlLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuaXNTdWJtaXR0aW5nID0gZmFsc2UKCiAgICAgICAgICB0aGlzLiR0b2FzdCh7CiAgICAgICAgICAgIGNvbXBvbmVudDogVG9hc3RpZmljYXRpb25Db250ZW50LAogICAgICAgICAgICBwb3NpdGlvbjogJ3RvcC1yaWdodCcsCiAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgdGl0bGU6ICdFcnJvcicsCiAgICAgICAgICAgICAgaWNvbjogJ0FsZXJ0Q2lyY2xlSWNvbicsCiAgICAgICAgICAgICAgdmFyaWFudDogJ2RhbmdlcicsCiAgICAgICAgICAgICAgdGV4dDogJ1NvbWV0aGluZyB3ZW50IHdyb25nLCB0cnkgYWdhaW4gbGF0ZXInLAogICAgICAgICAgICB9LAogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKQogICAgICB9KQogICAgfSwKCiAgICByZXNvdXJjZVR5cGVDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucmVzb3VyY2VPd25lciA9ICcnCiAgICAgIHRoaXMub2xkT3duZXIgPSAnJwogICAgICB0aGlzLnRyVHJpbUhlaWdodCh0aGlzLiRyZWZzLnJvd1swXS5vZmZzZXRIZWlnaHQgKiB0aGlzLml0ZW1zLmxlbmd0aCkKICAgICAgdGhpcy5pdGVtcyA9IFtdCiAgICAgIHRoaXMuZ2V0UmVzb3VyY2VJdGVtcygpCiAgICB9LAoKICAgIC8vIGFzc2lnbk93bmVyRmllbGQoaXRlbSkgewogICAgLy8gICBpZiAoaXRlbSkgewogICAgLy8gICAgIHRoaXMucmVzb3VyY2VPd25lciA9IGl0ZW0uaXRlbS5pZAogICAgLy8gICAgIGNvbnNvbGUubG9nKHRoaXMuYWxsb2NhdGlvbkRhdGUpCiAgICAvLyAgIH0KICAgIC8vIH0sCgogICAgb25JbnB1dENoYW5nZSh0ZXh0KSB7CiAgICAgIGlmICh0ZXh0ID09PSAnJyB8fCB0ZXh0ID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4KICAgICAgfQoKICAgICAgYXhpb3MuZ2V0KCcvZ2V0RW1wbG95ZWVEcm9wZG93bicsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGlkOiB0ZXh0LAogICAgICAgICAgcmVzb3VyY2VUeXBlOiB0aGlzLnJlc291cmNlVHlwZSwKICAgICAgICB9LAogICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5oYXNPd25Qcm9wZXJ0eSgnc3VjY2VzcycpKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzID09PSB0cnVlKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEuZGF0YSkKICAgICAgICAgICAgdGhpcy5maWx0ZXJlZE9wdGlvbnMgPSBbeyBkYXRhOiByZXNwb25zZS5kYXRhLmRhdGEgfV0KCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZXNvdXJjZSBPd25lcnMgRmV0Y2hlZCcpCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiR0b2FzdCh7CiAgICAgICAgICAgICAgY29tcG9uZW50OiBUb2FzdGlmaWNhdGlvbkNvbnRlbnQsCiAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnLAogICAgICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgICAgICB0aXRsZTogJ0Vycm9yJywKICAgICAgICAgICAgICAgIGljb246ICdBbGVydENpcmNsZUljb24nLAogICAgICAgICAgICAgICAgdmFyaWFudDogJ2RhbmdlcicsCiAgICAgICAgICAgICAgICB0ZXh0OiByZXNwb25zZS5kYXRhLm1lc3NhZ2UsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kdG9hc3QoewogICAgICAgICAgICBjb21wb25lbnQ6IFRvYXN0aWZpY2F0aW9uQ29udGVudCwKICAgICAgICAgICAgcG9zaXRpb246ICd0b3AtcmlnaHQnLAogICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgIHRpdGxlOiAnRXJyb3InLAogICAgICAgICAgICAgIGljb246ICdBbGVydENpcmNsZUljb24nLAogICAgICAgICAgICAgIHZhcmlhbnQ6ICdkYW5nZXInLAogICAgICAgICAgICAgIHRleHQ6ICdTb21ldGhpbmcgd2VudCB3cm9uZywgdHJ5IGFnYWluIGxhdGVyJywKICAgICAgICAgICAgfSwKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcikKICAgICAgfSkKICAgIH0sCgogICAgZ2V0UmVzb3VyY2VJdGVtcygpIHsKICAgICAgYXhpb3MuZ2V0KCcvZ2V0UmVzb3VyY2VJdGVtc0Ryb3Bkb3duJywgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgcmVzb3VyY2VUeXBlOiB0aGlzLnJlc291cmNlVHlwZSwKICAgICAgICB9LAogICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5oYXNPd25Qcm9wZXJ0eSgnc3VjY2VzcycpKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzID09PSB0cnVlKSB7CiAgICAgICAgICAgIC8qIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEuZGF0YSk7ICovCiAgICAgICAgICAgIHRoaXMucmVzb3VyY2VJdGVtcyA9IHJlc3BvbnNlLmRhdGEuZGF0YQoKICAgICAgICAgICAgY29uc29sZS5sb2coJ1Jlc291cmNlIEl0ZW1zIEZldGNoZWQnKQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kdG9hc3QoewogICAgICAgICAgICAgIGNvbXBvbmVudDogVG9hc3RpZmljYXRpb25Db250ZW50LAogICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLXJpZ2h0JywKICAgICAgICAgICAgICBwcm9wczogewogICAgICAgICAgICAgICAgdGl0bGU6ICdFcnJvcicsCiAgICAgICAgICAgICAgICBpY29uOiAnQWxlcnRDaXJjbGVJY29uJywKICAgICAgICAgICAgICAgIHZhcmlhbnQ6ICdkYW5nZXInLAogICAgICAgICAgICAgICAgdGV4dDogJ1NvbWV0aGluZyB3ZW50IHdyb25nLCB0cnkgYWdhaW4gbGF0ZXInLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJHRvYXN0KHsKICAgICAgICAgICAgY29tcG9uZW50OiBUb2FzdGlmaWNhdGlvbkNvbnRlbnQsCiAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wLXJpZ2h0JywKICAgICAgICAgICAgcHJvcHM6IHsKICAgICAgICAgICAgICB0aXRsZTogJ0Vycm9yJywKICAgICAgICAgICAgICBpY29uOiAnQWxlcnRDaXJjbGVJY29uJywKICAgICAgICAgICAgICB2YXJpYW50OiAnZGFuZ2VyJywKICAgICAgICAgICAgICB0ZXh0OiAnU29tZXRoaW5nIHdlbnQgd3JvbmcsIHRyeSBhZ2FpbiBsYXRlcicsCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpCiAgICAgIH0pCiAgICB9LAoKICAgIHJlcGVhdGVBZ2FpbigpIHsKICAgICAgdGhpcy5pdGVtcy5wdXNoKHsKICAgICAgICBpZDogdGhpcy5uZXh0VG9kb0lkICs9IHRoaXMubmV4dFRvZG9JZCwKICAgICAgICBuYW1lOiAnJywKICAgICAgICBxdWFudGl0eTogJycsCiAgICAgIH0pCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuaXRlbXMpCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLnRyQWRkSGVpZ2h0KHRoaXMuJHJlZnMucm93WzBdLm9mZnNldEhlaWdodCkKICAgICAgfSkKICAgIH0sCiAgICByZW1vdmVJdGVtKGluZGV4KSB7CiAgICAgIHRoaXMuaXRlbXMuc3BsaWNlKGluZGV4LCAxKQogICAgICB0aGlzLnRyVHJpbUhlaWdodCh0aGlzLiRyZWZzLnJvd1swXS5vZmZzZXRIZWlnaHQpCiAgICB9LAogICAgaW5pdFRySGVpZ2h0KCkgewogICAgICB0aGlzLnRyU2V0SGVpZ2h0KG51bGwpCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLnRyU2V0SGVpZ2h0KHRoaXMuJHJlZnMuZm9ybS5zY3JvbGxIZWlnaHQpCiAgICAgIH0pCiAgICB9LAogIH0sCn0K"},{"version":3,"sources":["allocateResourceEditView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"allocateResourceEditView.vue","sourceRoot":"src/views/table/bs-table/ResourceCenter","sourcesContent":["<template>\n  <b-form @submit.prevent>\n    <b-row>\n      <b-col md=\"6\">\n        <b-form-group\n          label=\"Resource Type\"\n          label-for=\"v-resourceType\"\n        >\n          <v-select\n            id=\"v-resourceType\"\n            v-model=\"resourceType\"\n            :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\n            :options=\"resourceTypes\"\n\n            label=\"text\"\n            :reduce=\"text => text.value\"\n            @input=\"resourceTypeChange\"\n          />\n        </b-form-group>\n      </b-col>\n\n      <b-col md=\"6\">\n\n        <b-form-group\n          label=\"Resource Owner\"\n          label-for=\"autosuggest__input\"\n        >\n          <vue-autosuggest\n\n            v-model=\"oldOwner\"\n\n            :suggestions=\"filteredOptions\"\n            :limit=\"10\"\n            :input-props=\"{id:'autosuggest__input',class:'form-control', placeholder:'Search with name or ID'}\"\n            @input=\"onInputChange\"\n            @selected=\"assignOwnerField\"\n          >\n            <template slot-scope=\"{suggestion}\">\n              <span class=\"my-suggestion-item\">{{ suggestion.item.name }}, {{ suggestion.item.id }} </span>\n            </template>\n          </vue-autosuggest>\n        </b-form-group>\n      </b-col>\n\n      <b-col md=\"6\">\n        <b-form-group\n          label=\"Attachment\"\n          label-for=\"v-attachment\"\n        >\n\n          <b-form-file\n            id=\"v-attachment\"\n            v-model=\"attachmentFile\"\n            accept=\"image/* , .pdf\"\n            placeholder=\"Upload Attachment...\"\n            drop-placeholder=\"Drop file here...\"\n          />\n        </b-form-group>\n      </b-col>\n\n      <b-col\n        v-if=\"isPdf(ui_attachment)\"\n        md=\"2\"\n      >\n\n        <a\n          class=\"btn btn-primary\"\n          :href=\"ui_attachment\"\n          target=\"_blank\"\n        >View file</a>\n      </b-col>\n      <b-col\n        v-else\n        md=\"2\"\n      >\n        <enlargeable-image\n          v-if=\"ui_attachment\"\n          :src=\"ui_attachment\"\n          :src_large=\"ui_attachment\"\n          animation_duration=\"600\"\n        >\n          <b-img\n            style=\"max-height: 80px;\"\n            thumbnail\n            :src=\"ui_attachment\"\n          />\n        </enlargeable-image>\n      </b-col>\n\n      <b-col\n        v-if=\"ui_attachment\"\n        md=\"4\"\n      >\n        <b-button\n          v-ripple.400=\"'rgba(234, 84, 85, 0.15)'\"\n          variant=\"outline-danger\"\n          class=\"mt-0 mt-md-2 ml-0\"\n          @click=\"removeImage('attachment')\"\n        >\n          <feather-icon\n            icon=\"XIcon\"\n            class=\"mr-25\"\n          />\n          <span>Delete</span>\n        </b-button>\n      </b-col>\n\n      <b-col md=\"6\">\n        <label for=\"v-dob\">Date</label>\n        <b-input-group>\n\n          <cleave\n            id=\"date\"\n            v-model=\"allocationDate\"\n            class=\"form-control\"\n            :raw=\"false\"\n            :options=\"options.date\"\n            placeholder=\"YYYY-MM-DD\"\n          />\n\n          <b-input-group-append>\n            <b-form-datepicker\n              v-model=\"allocationDate\"\n              show-decade-nav\n              button-only\n              right\n              locale=\"en-US\"\n              aria-controls=\"v-dob\"\n            />\n          </b-input-group-append>\n\n        </b-input-group>\n      </b-col>\n\n      <b-col  md=\"6\" v-if=\"locationField\">\n      <b-form-group\n        label=\"Location\"\n        label-for=\"resourceOwnerLocation\"\n      >\n        <v-select\n          id=\"resourceOwnerLocation\"\n          v-model=\"resourceOwnerLocation\"\n          :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\n          :options=\"fillerdLocations\"\n          label=\"text\"\n          :reduce=\"text => text.text\"\n        />\n      </b-form-group>\n    </b-col>\n\n      <b-col md=\"12\">\n        <b-form-group\n          label=\"Notes\"\n          label-for=\"notes\"\n        >\n\n          <b-form-textarea\n            id=\"notes\"\n            v-model=\"notes\"\n            placeholder=\"Notes\"\n            rows=\"1\"\n          />\n        </b-form-group>\n      </b-col>\n\n      <!-- form repeate -->\n      <b-col md=\"12\">\n\n        <b-card title=\"Resource Items\">\n          <div>\n            <b-form\n              ref=\"form\"\n              :style=\"{height: trHeight}\"\n              class=\"repeater-form\"\n              @submit.prevent=\"repeateAgain\"\n            >\n\n              <!-- Row Loop -->\n              <b-row\n                v-for=\"(item, index) in items\"\n                :id=\"item.id\"\n                :key=\"item.id\"\n                ref=\"row\"\n              >\n\n                <!-- Item Name -->\n                <b-col md=\"5\">\n                  <b-form-group\n                    label=\"Item Name\"\n                    label-for=\"item-name\"\n                  >\n\n                    <v-select\n                      id=\"item-name\"\n                      v-model=\"item.name\"\n                      :dir=\"$store.state.appConfig.isRTL ? 'rtl' : 'ltr'\"\n                      :options=\"resourceItems\"\n\n                      label=\"text\"\n                      :reduce=\"text => text.value\"\n                    />\n\n                  </b-form-group>\n                </b-col>\n\n                <!-- Quantity -->\n                <b-col md=\"5\">\n                  <b-form-group\n                    label=\"Quantity\"\n                    label-for=\"quantity\"\n                  >\n                    <b-form-input\n                      id=\"quantity\"\n                      v-model=\"item.quantity\"\n                      type=\"number\"\n                      placeholder=\"1\"\n                    />\n                  </b-form-group>\n                </b-col>\n\n                <!-- Remove Button -->\n                <b-col\n                  md=\"2\"\n                  class=\"mb-50\"\n                >\n                  <b-button\n                    v-ripple.400=\"'rgba(234, 84, 85, 0.15)'\"\n                    variant=\"outline-danger\"\n                    class=\"mt-0 mt-md-2\"\n                    @click=\"removeItem(index)\"\n                  >\n                    <feather-icon\n                      icon=\"XIcon\"\n                      class=\"mr-25\"\n                    />\n                    <span>Delete</span>\n                  </b-button>\n                </b-col>\n                <b-col cols=\"12\">\n                  <hr>\n                </b-col>\n              </b-row>\n\n            </b-form>\n          </div>\n          <b-button\n            v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n            variant=\"primary\"\n            @click=\"repeateAgain\"\n          >\n            <feather-icon\n              icon=\"PlusIcon\"\n              class=\"mr-25\"\n            />\n            <span>Add more</span>\n          </b-button>\n\n        </b-card>\n      </b-col>\n\n      <!-- <b-col md=\"6\">\n        <b-card title=\"Signature\">\n          <VueSignaturePad\n            id=\"signature\"\n            ref=\"signaturePad\"\n            class=\"col-12\"\n            height=\"250px\"\n            :options=\"options\"\n          />\n          <b-button\n            v-ripple.400=\"'rgba(40, 199, 111, 0.15)'\"\n            variant=\"danger\"\n            class=\"mt-1\"\n            @click=\"clearCanvas\"\n          >\n            Clear\n          </b-button>\n        </b-card>\n\n      </b-col> -->\n\n      <!-- submit and reset -->\n      <b-col md=\"12\">\n        <b-button\n          v-ripple.400=\"'rgba(255, 255, 255, 0.15)'\"\n          type=\"submit\"\n          variant=\"primary\"\n          class=\"mr-1\"\n          :disabled=\"isSubmitting\"\n          @click=\"submitResource\"\n        >\n          <b-spinner\n            v-if=\"isSubmitting\"\n            small\n          />\n          <span v-if=\"isSubmitting\">Please Wait</span>\n\n          <span v-if=\"!isSubmitting\">Submit</span>\n        </b-button>\n\n      </b-col>\n    </b-row>\n  </b-form>\n</template>\n\n<script>\nimport {\n  BRow, BCol, BFormGroup, BFormInput, BFormCheckbox, BForm, BButton, BFormDatepicker, BCard, BSpinner, BFormFile, BFormTextarea, BInputGroupAppend, BInputGroup, BImg,\n} from 'bootstrap-vue'\nimport Ripple from 'vue-ripple-directive'\nimport vSelect from 'vue-select'\nimport { VueAutosuggest } from 'vue-autosuggest'\nimport axios from '@axios'\nimport { heightTransition } from '@core/mixins/ui/transition'\nimport ToastificationContent from '@core/components/toastification/ToastificationContent.vue'\n\nimport Cleave from 'vue-cleave-component'\nimport 'cleave.js/dist/addons/cleave-phone.us'\n\nimport EnlargeableImage from '@diracleo/vue-enlargeable-image'\n\nexport default {\n  components: {\n    BRow,\n    BCol,\n    BFormGroup,\n    BFormInput,\n    BFormCheckbox,\n    BForm,\n    BButton,\n    BFormDatepicker,\n    vSelect,\n    VueAutosuggest,\n    BCard,\n    BSpinner,\n    BFormFile,\n    BFormTextarea,\n    BInputGroupAppend,\n    BInputGroup,\n    Cleave,\n    BImg,\n    EnlargeableImage,\n  },\n  directives: {\n    Ripple,\n  },\n\n  mixins: [heightTransition],\n\n  data() {\n    return {\n      isSubmitting: false,\n      options: {\n        penColor: '#000',\n        backgroundColor: '#fff',\n        phone: {\n          blocks: [12],\n          uppercase: true,\n        },\n        date: {\n          date: true,\n          delimiter: '-',\n          datePattern: ['Y', 'm', 'd'],\n        },\n        account_number: {\n          blocks: [15],\n          uppercase: true,\n        },\n        iqama_number: {\n          blocks: [10],\n          uppercase: true,\n        },\n        cr_number: {\n          blocks: [10],\n          uppercase: true,\n        },\n        iban: {\n          prefix: 'SA',\n          blocks: [24],\n          uppercase: true,\n          noImmediatePrefix: true,\n        },\n      },\n\n      resourceTypes: [\n        { value: 'Employee', text: 'Employee' },\n        { value: 'Project', text: 'Project' },\n        { value: 'Accommodation', text: 'Accommodation' },\n      ],\n\n      resourceType: null,\n      filteredOptions: [],\n      fillerdLocations: [],\n      resourceOwner: '',\n      allocationDate: '',\n      attachmentFile: null,\n      attachment: '',\n      signature: '',\n      resourceOwnerLocation:'',\n      notes: '',\n      ui_attachment: '',\n\n      resourceItems: [],\n      items: [{}],\n      nextTodoId: 2,\n      oldOwner: '',\n      locationField:false,\n    }\n  },\n  mounted() {\n    \n    this.initTrHeight()\n    this.getResourceDetail()\n  },\n  created() {\n    window.addEventListener('resize', this.initTrHeight)\n  },\n  destroyed() {\n    window.removeEventListener('resize', this.initTrHeight)\n  },\n  watch: {\n  resourceType: function () { //getResourceItems() function called onchange of resourceType \n    this.getResourceItems();\n  },\n  },\n  methods: {\n\nassignOwnerField(item) {\n    if (item) {\n      this.resourceOwner = item.item.id\n      this.onLocationInputChange(this.resourceOwner)\n      this.client_code = this.resourceOwner\n      console.log(this.client_code, 'shopcode')\n    }\n  },\n    removeImage(imageColumn) {\n      this.$swal({\n        title: 'Are you sure?',\n        text: \"You won't be able to revert this!\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, delete it!',\n        customClass: {\n          confirmButton: 'btn btn-danger',\n          cancelButton: 'btn btn-outline-danger ml-1',\n        },\n        buttonsStyling: false,\n      }).then(result => {\n        if (result.value) {\n          axios.post('/deleteImage', {\n            tableName: 'resource_allocation',\n            uniqueColumn: 'id',\n            uniqueValue: this.$route.params.id,\n            imageColumn,\n          }).then(response => {\n            if (response.data.hasOwnProperty('success')) {\n              if (response.data.success === true) {\n                this.getResourceDetail()\n                this.$toast({\n                  component: ToastificationContent,\n                  position: 'top-right',\n                  props: {\n                    title: response.data.message,\n                    icon: 'EditIcon',\n                    variant: 'success',\n                  },\n                })\n              } else {\n                this.$toast({\n                  component: ToastificationContent,\n                  position: 'top-right',\n                  props: {\n                    title: 'Error',\n                    icon: 'AlertCircleIcon',\n                    variant: 'danger',\n                    text: 'Something went wrong, try again later',\n                  },\n                })\n              }\n            } else {\n              this.$toast({\n                component: ToastificationContent,\n                position: 'top-right',\n                props: {\n                  title: 'Error',\n                  icon: 'AlertCircleIcon',\n                  variant: 'danger',\n                  text: 'Something went wrong, try again later',\n                },\n              })\n            }\n          }).catch(error => {\n            console.error(error)\n          })\n        }\n      })\n    },\n\n\n      onLocationInputChange(text) {\n    if (text === '' || text === undefined) {\n      return\n    }\n  \n    axios.get('/getClientLocations', {\n      params: {\n        client_code: text,\n      },\n    }).then(response => {\n      if (response.data.hasOwnProperty('success')) {\n        if (response.data.success === true) {\n          console.log(response.data.data.data , 'location_name faraz')\n          this.fillerdLocations = response.data.data\n        } else {\n          this.$toast({\n            component: ToastificationContent,\n            position: 'top-right',\n            props: {\n              title: 'Error',\n              icon: 'AlertCircleIcon',\n              variant: 'danger',\n              text: response.data.message,\n            },\n          })\n        }\n      } else {\n        this.$toast({\n          component: ToastificationContent,\n          position: 'top-right',\n          props: {\n            title: 'Error',\n            icon: 'AlertCircleIcon',\n            variant: 'danger',\n            text: 'Something went wrong, try again later',\n          },\n        })\n      }\n    }).catch(error => {\n      console.error(error)\n    })\n  },\n\n    isPdf(url) {\n      if (url.substr(url.lastIndexOf('.') + 1) == 'pdf') {\n        return true\n      }\n\n      return false\n    },\n    clearCanvas() {\n      this.$refs.signaturePad.clearSignature()\n    },\n\n    getResourceDetail() {\n      console.log(this.$route.params.id)\n\n      const config = {\n        headers: {\n          'content-type': 'multipart/form-data',\n\n        },\n      }\n\n      axios.get('/getAllocatedResourceDetail', {\n        params: {\n          id: this.$route.params.id,\n        },\n      }, config).then(response => {\n        if (response.data.hasOwnProperty('success')) {\n          if (response.data.success === true) {\n            console.log(response.data)\n\n            this.resourceType = response.data.data.ownerType\n            this.resourceOwner = response.data.data.resourceOwnerId\n            this.allocationDate = response.data.data.date\n            this.oldOwner = response.data.data.resourceOwner\n            this.items = response.data.data.resourceItems\n            this.signature = response.data.data.signature\n            this.notes = response.data.data.notes\n            this.ui_attachment = response.data.data.attachment\n            this.resourceOwnerLocation = response.data.data.resource_owner_location\n           if(response.data.data.ownerType == 'Project'){\n             this.onLocationInputChange(response.data.data.resourceOwnerId)\n             this.locationField = true;\n           }\n            // this.$refs.signaturePad.fromDataURL(response.data.data.signature)\n            console.log('length of items =', this.items.length)\n            console.log('length of refs =', this.$refs.row[0].offsetHeight)\n            this.$nextTick(() => {\n              this.trAddHeight(this.$refs.row[0].offsetHeight * this.items.length)\n            })\n            console.log('done')\n          } else {\n            this.$toast({\n              component: ToastificationContent,\n              position: 'top-right',\n              props: {\n                title: 'Error',\n                icon: 'AlertCircleIcon',\n                variant: 'danger',\n                text: response.data.message,\n              },\n            })\n          }\n        } else {\n          this.$toast({\n            component: ToastificationContent,\n            position: 'top-right',\n            props: {\n              title: 'Error',\n              icon: 'AlertCircleIcon',\n              variant: 'danger',\n              text: 'Something went wrong, try again later',\n            },\n          })\n        }\n      }).catch(error => {\n        console.error(error)\n      })\n    },\n\n    submitResource() {\n      this.isSubmitting = true\n\n      // const { isEmpty, data } = this.$refs.signaturePad.saveSignature()\n      // const sign = data\n\n      // if (isEmpty) {\n      //   this.$toast({\n      //     component: ToastificationContent,\n      //     position: 'top-right',\n      //     props: {\n      //       title: 'Signature missing',\n      //       icon: 'AlertCircleIcon',\n      //       variant: 'danger',\n\n      //     },\n      //   })\n\n        // this.isSubmitting = false\n      // } else {\n        // this.signature = sign\n        if (this.attachmentFile != null) {\n          this.uploadImg(this.attachmentFile)\n        } else {\n          axios.post('/updateAllocatedResources', {\n            resourceOwnerType: this.resourceType,\n            resourceOwnerId: this.resourceOwner,\n            allocationDate: this.allocationDate,\n            resource_owner_location: this.resourceOwnerLocation,\n            resourceItems: this.items,\n            signature: this.signature,\n            notes: this.notes,\n            id: this.$route.params.id,\n          }).then(response => {\n            if (response.data.hasOwnProperty('success')) {\n              if (response.data.success === true) {\n                console.log(response.data.data)\n\n                this.$router.replace('/allocated_resources')\n                  .then(() => {\n                    this.$toast({\n                      component: ToastificationContent,\n                      position: 'top-right',\n                      props: {\n                        title: response.data.message,\n                        icon: 'EditIcon',\n                        variant: 'success',\n                      },\n                    })\n                  })\n              } else {\n                this.isSubmitting = false\n\n                this.$toast({\n                  component: ToastificationContent,\n                  position: 'top-right',\n                  props: {\n                    title: response.data.message,\n                    icon: 'AlertCircleIcon',\n                    variant: 'danger',\n\n                  },\n                })\n              }\n            } else {\n              this.isSubmitting = false\n\n              this.$toast({\n                component: ToastificationContent,\n                position: 'top-right',\n                props: {\n                  title: 'Error',\n                  icon: 'AlertCircleIcon',\n                  variant: 'danger',\n                  text: 'Something went wrong, try again later',\n                },\n              })\n            }\n          }).catch(error => {\n            console.error(error)\n          })\n        }\n      // }\n    },\n\n    uploadImg(img) {\n      const formData = new FormData()\n      formData.append('image', img)\n\n      axios.post('/imgUpload',\n        formData).then(response => {\n        console.log(response)\n        if (response.data.hasOwnProperty('success')) {\n          if (response.data.success === true) {\n            /* this.$toast({\n                    component: ToastificationContent,\n                    position: 'top-right',\n                    props: {\n                      title: `Done`,\n                      icon: 'EditIcon',\n                      variant: 'success',\n                      text: response.data.message,\n                    },\n                  }) */\n\n            console.log('imgUploadResponce', response.data)\n            this.attachment = response.data.data.image\n            // create purchase start -------------------------------------------------------------------\n\n            axios.post('/updateAllocatedResources', {\n              resourceOwnerType: this.resourceType,\n              resourceOwnerId: this.resourceOwner,\n              allocationDate: this.allocationDate,\n              resource_owner_location: this.resourceOwnerLocation,\n              attachment: this.attachment,\n              resourceItems: this.items,\n              notes: this.notes,\n              signature: this.signature,\n              id: this.$route.params.id,\n            }).then(response => {\n              if (response.data.hasOwnProperty('success')) {\n                if (response.data.success === true) {\n                  console.log(response.data.data)\n\n                  this.$router.replace('/allocated_resources')\n                    .then(() => {\n                      this.$toast({\n                        component: ToastificationContent,\n                        position: 'top-right',\n                        props: {\n                          title: response.data.message,\n                          icon: 'EditIcon',\n                          variant: 'success',\n                        },\n                      })\n                    })\n                } else {\n                  this.isSubmitting = false\n\n                  this.$toast({\n                    component: ToastificationContent,\n                    position: 'top-right',\n                    props: {\n                      title: `! ${response.data.message}`,\n                      icon: 'AlertCircleIcon',\n                      variant: 'danger',\n                    },\n                  })\n                }\n              } else {\n                this.isSubmitting = false\n\n                this.$toast({\n                  component: ToastificationContent,\n                  position: 'top-right',\n                  props: {\n                    title: 'Error',\n                    icon: 'AlertCircleIcon',\n                    variant: 'danger',\n                    text: 'Something went wrong, try again later',\n                  },\n                })\n              }\n            }).catch(error => {\n              console.error(error)\n            })\n            // create purchase end-----------------------------------------------------------------------------\n          } else {\n            this.isSubmitting = false\n\n            this.$toast({\n              component: ToastificationContent,\n              position: 'top-right',\n              props: {\n                title: 'Error',\n                icon: 'AlertCircleIcon',\n                variant: 'danger',\n                text: response.data.message,\n              },\n            })\n          }\n        } else {\n          this.isSubmitting = false\n\n          this.$toast({\n            component: ToastificationContent,\n            position: 'top-right',\n            props: {\n              title: 'Error',\n              icon: 'AlertCircleIcon',\n              variant: 'danger',\n              text: 'Something went wrong, try again later',\n            },\n          })\n        }\n      }).catch(error => {\n        console.error(error)\n      })\n    },\n\n    resourceTypeChange(val) {\n      this.resourceOwner = ''\n      this.oldOwner = ''\n      this.trTrimHeight(this.$refs.row[0].offsetHeight * this.items.length)\n      this.items = []\n      this.getResourceItems()\n    },\n\n    // assignOwnerField(item) {\n    //   if (item) {\n    //     this.resourceOwner = item.item.id\n    //     console.log(this.allocationDate)\n    //   }\n    // },\n\n    onInputChange(text) {\n      if (text === '' || text === undefined) {\n        return\n      }\n\n      axios.get('/getEmployeeDropdown', {\n        params: {\n          id: text,\n          resourceType: this.resourceType,\n        },\n      }).then(response => {\n        if (response.data.hasOwnProperty('success')) {\n          if (response.data.success === true) {\n            console.log(response.data.data)\n            this.filteredOptions = [{ data: response.data.data }]\n\n            console.log('Resource Owners Fetched')\n          } else {\n            this.$toast({\n              component: ToastificationContent,\n              position: 'top-right',\n              props: {\n                title: 'Error',\n                icon: 'AlertCircleIcon',\n                variant: 'danger',\n                text: response.data.message,\n              },\n            })\n          }\n        } else {\n          this.$toast({\n            component: ToastificationContent,\n            position: 'top-right',\n            props: {\n              title: 'Error',\n              icon: 'AlertCircleIcon',\n              variant: 'danger',\n              text: 'Something went wrong, try again later',\n            },\n          })\n        }\n      }).catch(error => {\n        console.error(error)\n      })\n    },\n\n    getResourceItems() {\n      axios.get('/getResourceItemsDropdown', {\n        params: {\n          resourceType: this.resourceType,\n        },\n      }).then(response => {\n        if (response.data.hasOwnProperty('success')) {\n          if (response.data.success === true) {\n            /* console.log(response.data.data); */\n            this.resourceItems = response.data.data\n\n            console.log('Resource Items Fetched')\n          } else {\n            this.$toast({\n              component: ToastificationContent,\n              position: 'top-right',\n              props: {\n                title: 'Error',\n                icon: 'AlertCircleIcon',\n                variant: 'danger',\n                text: 'Something went wrong, try again later',\n              },\n            })\n          }\n        } else {\n          this.$toast({\n            component: ToastificationContent,\n            position: 'top-right',\n            props: {\n              title: 'Error',\n              icon: 'AlertCircleIcon',\n              variant: 'danger',\n              text: 'Something went wrong, try again later',\n            },\n          })\n        }\n      }).catch(error => {\n        console.error(error)\n      })\n    },\n\n    repeateAgain() {\n      this.items.push({\n        id: this.nextTodoId += this.nextTodoId,\n        name: '',\n        quantity: '',\n      })\n      console.log(this.items)\n      this.$nextTick(() => {\n        this.trAddHeight(this.$refs.row[0].offsetHeight)\n      })\n    },\n    removeItem(index) {\n      this.items.splice(index, 1)\n      this.trTrimHeight(this.$refs.row[0].offsetHeight)\n    },\n    initTrHeight() {\n      this.trSetHeight(null)\n      this.$nextTick(() => {\n        this.trSetHeight(this.$refs.form.scrollHeight)\n      })\n    },\n  },\n}\n</script>\n"]}]}