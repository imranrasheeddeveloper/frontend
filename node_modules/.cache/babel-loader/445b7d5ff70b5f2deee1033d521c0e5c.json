{"remainingRequest":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\src\\router\\index.js","dependencies":[{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\src\\router\\index.js","mtime":1658909893000},{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1658911406787},{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1658911406916},{"path":"C:\\xampp\\htdocs\\GulflamarERPSystem\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1658911406756}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJDOi94YW1wcC9odGRvY3MvR3VsZmxhbWFyRVJQU3lzdGVtL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHVzZUp3dCBmcm9tICdAL2F1dGgvand0L3VzZUp3dCc7IC8vIFJvdXRlcwoKaW1wb3J0IHsgY2FuTmF2aWdhdGUgfSBmcm9tICdAL2xpYnMvYWNsL3JvdXRlUHJvdGVjdGlvbic7CmltcG9ydCB7IGlzVXNlckxvZ2dlZEluLCBnZXRVc2VyRGF0YSwgZ2V0SG9tZVJvdXRlRm9yTG9nZ2VkSW5Vc2VyIH0gZnJvbSAnQC9hdXRoL3V0aWxzJzsKaW1wb3J0IGFwcHMgZnJvbSAnLi9yb3V0ZXMvYXBwcyc7CmltcG9ydCBkYXNoYm9hcmQgZnJvbSAnLi9yb3V0ZXMvZGFzaGJvYXJkJzsKLyogaW1wb3J0IHVpRWxlbWVudHMgZnJvbSAnLi9yb3V0ZXMvdWktZWxlbWVudHMvaW5kZXgnCmltcG9ydCBwYWdlcyBmcm9tICcuL3JvdXRlcy9wYWdlcycKaW1wb3J0IGNoYXJ0c01hcHMgZnJvbSAnLi9yb3V0ZXMvY2hhcnRzLW1hcHMnICovCgppbXBvcnQgZm9ybXNUYWJsZSBmcm9tICcuL3JvdXRlcy9mb3Jtcy10YWJsZXMnOwovKiBpbXBvcnQgb3RoZXJzIGZyb20gJy4vcm91dGVzL290aGVycycgKi8KClZ1ZS51c2UoVnVlUm91dGVyKTsKdmFyIHJvdXRlciA9IG5ldyBWdWVSb3V0ZXIoewogIG1vZGU6ICdoaXN0b3J5JywKICBiYXNlOiBwcm9jZXNzLmVudi5CQVNFX1VSTCwKICBzY3JvbGxCZWhhdmlvcjogZnVuY3Rpb24gc2Nyb2xsQmVoYXZpb3IoKSB7CiAgICByZXR1cm4gewogICAgICB4OiAwLAogICAgICB5OiAwCiAgICB9OwogIH0sCiAgcm91dGVzOiBbewogICAgcGF0aDogJy8nLAogICAgcmVkaXJlY3Q6IHsKICAgICAgbmFtZTogJ2Rhc2hib2FyZC1lY29tbWVyY2UnCiAgICB9CiAgfV0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShkYXNoYm9hcmQpLCBfdG9Db25zdW1hYmxlQXJyYXkoZm9ybXNUYWJsZSksIF90b0NvbnN1bWFibGVBcnJheShhcHBzKSwgW3sKICAgIHBhdGg6ICcqJywKICAgIHJlZGlyZWN0OiB7CiAgICAgIG5hbWU6ICdlcnJvci00MDQnCiAgICB9CiAgfV0pCn0pOwpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIF8sIG5leHQpIHsKICB2YXIgYXBwTG9hZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nLWJnJyk7CgogIGlmIChhcHBMb2FkaW5nKSB7CiAgICBhcHBMb2FkaW5nLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogIH0KCiAgdmFyIGlzTG9nZ2VkSW4gPSBpc1VzZXJMb2dnZWRJbigpOwoKICBpZiAoIWNhbk5hdmlnYXRlKHRvKSkgewogICAgLy8gUmVkaXJlY3QgdG8gbG9naW4gaWYgbm90IGxvZ2dlZCBpbgogICAgaWYgKCFpc0xvZ2dlZEluKSB7CiAgICAgIGNvbnNvbGUubG9nKCdub3QgbG9nZ2VkaW4nKTsKICAgICAgcmV0dXJuIG5leHQoewogICAgICAgIG5hbWU6ICdhdXRoLWxvZ2luJwogICAgICB9KTsKICAgIH0gLy8gcmVmcmVzaCBwZXJtaXNzaW9ucwogICAgLy8gdXNlSnd0LnNldFBlcm1pc3Npb25zKCk7CiAgICAvLyByZWZyZXNoIHBlcm1pc3Npb25zIEVORAogICAgLy8gY29uc29sZS5sb2coJ25vdC1hdXRob3JpemVkJyk7CiAgICAvLyBJZiBsb2dnZWQgaW4gPT4gbm90IGF1dGhvcml6ZWQKICAgIC8vIHJldHVybiBuZXh0KHsgbmFtZTogJ21pc2Mtbm90LWF1dGhvcml6ZWQnIH0pCgogIH0gLy8gUmVkaXJlY3QgaWYgbG9nZ2VkIGluCgoKICBpZiAodG8ubWV0YS5yZWRpcmVjdElmTG9nZ2VkSW4gJiYgaXNMb2dnZWRJbikgewogICAgY29uc29sZS5sb2coJ3Byb2JsZW0nKTsKICAgIHZhciB1c2VyRGF0YSA9IGdldFVzZXJEYXRhKCk7CiAgICBuZXh0KCcvdXNlckxldmVsJwogICAgLyogZ2V0SG9tZVJvdXRlRm9yTG9nZ2VkSW5Vc2VyKHVzZXJEYXRhID8gdXNlckRhdGEucm9sZSA6IG51bGwpICovCiAgICApOwogIH0KCiAgcmV0dXJuIG5leHQoKTsKfSk7IC8vID8gRm9yIHNwbGFzaCBzY3JlZW4KLy8gUmVtb3ZlIGFmdGVyRWFjaCBob29rIGlmIHlvdSBhcmUgbm90IHVzaW5nIHNwbGFzaCBzY3JlZW4KCnJvdXRlci5hZnRlckVhY2goZnVuY3Rpb24gKCkgewogIC8vIFJlbW92ZSBpbml0aWFsIGxvYWRpbmcKICB2YXIgYXBwTG9hZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nLWJnJyk7CgogIGlmIChhcHBMb2FkaW5nKSB7CiAgICBhcHBMb2FkaW5nLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["C:/xampp/htdocs/GulflamarERPSystem/frontend/src/router/index.js"],"names":["Vue","VueRouter","axios","useJwt","canNavigate","isUserLoggedIn","getUserData","getHomeRouteForLoggedInUser","apps","dashboard","formsTable","use","router","mode","base","process","env","BASE_URL","scrollBehavior","x","y","routes","path","redirect","name","beforeEach","to","_","next","appLoading","document","getElementById","style","display","isLoggedIn","console","log","meta","redirectIfLoggedIn","userData","afterEach"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB,C,CAEA;;AACA,SAASC,WAAT,QAA4B,4BAA5B;AACA,SAASC,cAAT,EAAyBC,WAAzB,EAAsCC,2BAAtC,QAAyE,cAAzE;AACA,OAAOC,IAAP,MAAiB,eAAjB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA;AACA;AACA;;AACA,OAAOC,UAAP,MAAuB,uBAAvB;AACA;;AAEAV,GAAG,CAACW,GAAJ,CAAQV,SAAR;AAEA,IAAMW,MAAM,GAAG,IAAIX,SAAJ,CAAc;AAC3BY,EAAAA,IAAI,EAAE,SADqB;AAE3BC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFS;AAG3BC,EAAAA,cAH2B,4BAGV;AACf,WAAO;AAAEC,MAAAA,CAAC,EAAE,CAAL;AAAQC,MAAAA,CAAC,EAAE;AAAX,KAAP;AACD,GAL0B;AAM3BC,EAAAA,MAAM,GACJ;AAAEC,IAAAA,IAAI,EAAE,GAAR;AAAaC,IAAAA,QAAQ,EAAE;AAAEC,MAAAA,IAAI,EAAE;AAAR;AAAvB,GADI,4BAGDf,SAHC,sBAKDC,UALC,sBAMDF,IANC,IAQJ;AACEc,IAAAA,IAAI,EAAE,GADR;AAEEC,IAAAA,QAAQ,EAAE;AAAEC,MAAAA,IAAI,EAAE;AAAR;AAFZ,GARI;AANqB,CAAd,CAAf;AAqBAZ,MAAM,CAACa,UAAP,CAAkB,UAACC,EAAD,EAAKC,CAAL,EAAQC,IAAR,EAAiB;AACjC,MAAMC,UAAU,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAnB;;AACA,MAAIF,UAAJ,EAAgB;AACdA,IAAAA,UAAU,CAACG,KAAX,CAAiBC,OAAjB,GAA2B,OAA3B;AACD;;AACD,MAAMC,UAAU,GAAG7B,cAAc,EAAjC;;AAEA,MAAI,CAACD,WAAW,CAACsB,EAAD,CAAhB,EAAsB;AACpB;AACA,QAAI,CAACQ,UAAL,EAAiB;AACfC,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACA,aAAOR,IAAI,CAAC;AAAEJ,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAX;AACD,KALmB,CAOpB;AAEA;AACA;AACA;AACA;AACA;;AACD,GArBgC,CAuBjC;;;AACA,MAAIE,EAAE,CAACW,IAAH,CAAQC,kBAAR,IAA8BJ,UAAlC,EAA8C;AAC5CC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA,QAAMG,QAAQ,GAAGjC,WAAW,EAA5B;AACAsB,IAAAA,IAAI,CAAC;AAAY;AAAb,KAAJ;AACD;;AAED,SAAOA,IAAI,EAAX;AACD,CA/BD,E,CAiCA;AACA;;AACAhB,MAAM,CAAC4B,SAAP,CAAiB,YAAM;AACrB;AACA,MAAMX,UAAU,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAnB;;AACA,MAAIF,UAAJ,EAAgB;AACdA,IAAAA,UAAU,CAACG,KAAX,CAAiBC,OAAjB,GAA2B,MAA3B;AACD;AACF,CAND;AAQA,eAAerB,MAAf","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport axios from 'axios'\nimport useJwt from '@/auth/jwt/useJwt'\n\n// Routes\nimport { canNavigate } from '@/libs/acl/routeProtection'\nimport { isUserLoggedIn, getUserData, getHomeRouteForLoggedInUser } from '@/auth/utils'\nimport apps from './routes/apps'\nimport dashboard from './routes/dashboard'\n/* import uiElements from './routes/ui-elements/index'\nimport pages from './routes/pages'\nimport chartsMaps from './routes/charts-maps' */\nimport formsTable from './routes/forms-tables'\n/* import others from './routes/others' */\n\nVue.use(VueRouter)\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  scrollBehavior() {\n    return { x: 0, y: 0 }\n  },\n  routes: [\n    { path: '/', redirect: { name: 'dashboard-ecommerce' } },\n\n    ...dashboard,\n\n    ...formsTable,\n    ...apps,\n\n    {\n      path: '*',\n      redirect: { name: 'error-404' },\n    },\n  ],\n})\n\nrouter.beforeEach((to, _, next) => {\n  const appLoading = document.getElementById('loading-bg')\n  if (appLoading) {\n    appLoading.style.display = 'block'\n  }\n  const isLoggedIn = isUserLoggedIn()\n\n  if (!canNavigate(to)) {\n    // Redirect to login if not logged in\n    if (!isLoggedIn) {\n      console.log('not loggedin')\n      return next({ name: 'auth-login' })\n    }\n\n    // refresh permissions\n\n    // useJwt.setPermissions();\n    // refresh permissions END\n    // console.log('not-authorized');\n    // If logged in => not authorized\n    // return next({ name: 'misc-not-authorized' })\n  }\n\n  // Redirect if logged in\n  if (to.meta.redirectIfLoggedIn && isLoggedIn) {\n    console.log('problem')\n    const userData = getUserData()\n    next('/userLevel'/* getHomeRouteForLoggedInUser(userData ? userData.role : null) */)\n  }\n\n  return next()\n})\n\n// ? For splash screen\n// Remove afterEach hook if you are not using splash screen\nrouter.afterEach(() => {\n  // Remove initial loading\n  const appLoading = document.getElementById('loading-bg')\n  if (appLoading) {\n    appLoading.style.display = 'none'\n  }\n})\n\nexport default router\n"]}]}